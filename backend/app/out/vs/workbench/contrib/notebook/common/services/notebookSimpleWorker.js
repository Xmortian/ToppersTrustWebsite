/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var ue=["require","exports","vs/base/common/platform","vs/base/common/strings","vs/base/common/path","vs/base/common/errors","vs/base/common/buffer","vs/base/common/network","vs/base/common/lifecycle","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/core/range","vs/base/common/extpath","vs/base/common/uri","vs/platform/instantiation/common/instantiation","vs/base/common/stream","vs/base/common/lazy","vs/base/common/symbols","vs/editor/common/core/eolCounter","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model","vs/editor/common/model/textModelSearch","vs/base/common/mime","vs/base/common/resources","vs/base/common/async","vs/base/common/event","vs/base/common/glob","vs/base/common/map","vs/editor/common/core/stringBuilder","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls","vs/nls!vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/nls!vs/platform/contextkey/common/scanner","vs/platform/contextkey/common/scanner","vs/platform/instantiation/common/descriptors","vs/platform/instantiation/common/extensions","vs/platform/contextkey/common/contextkey","vs/workbench/services/notebook/common/notebookDocumentService","vs/workbench/contrib/notebook/common/notebookCommon","vs/editor/common/core/position","vs/base/common/types","vs/base/common/cancellation","vs/base/common/arrays","vs/base/common/iterator","vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/base/common/diff/diff","vs/base/common/hash"],ce=function(he){for(var e=[],T=0,z=he.length;T<z;T++)e[T]=ue[he[T]];return e};define(ue[14],ce([0,1,5,8]),function(he,e,T,z){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$re=G,e.$se=E,e.$te=B,e.$ue=V,e.$ve=m,e.$we=b,e.$xe=U,e.$ye=g,e.$ze=k,e.$Ae=c,e.$Be=o,e.$Ce=r,e.$De=u,e.$Ee=t,e.$Fe=s;function G(n){const l=n;return l?typeof l.read=="function":!1}function E(n){const l=n;return l?[l.on,l.pause,l.resume,l.destroy].every(h=>typeof h=="function"):!1}function B(n){const l=n;return l?E(l.stream)&&Array.isArray(l.buffer)&&typeof l.ended=="boolean":!1}function V(n,l){return new C(n,l)}class C{constructor(l,h){this.e=l,this.f=h,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(l){if(!this.a.destroyed){if(this.a.flowing)this.g(l);else if(this.b.data.push(l),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(h=>this.d.push(h))}}error(l){this.a.destroyed||(this.a.flowing?this.h(l):this.b.error.push(l))}end(l){this.a.destroyed||(typeof l<"u"&&this.write(l),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(l){this.c.data.slice(0).forEach(h=>h(l))}h(l){this.c.error.length===0?(0,T.$1)(l):this.c.error.slice(0).forEach(h=>h(l))}i(){this.c.end.slice(0).forEach(l=>l())}on(l,h){if(!this.a.destroyed)switch(l){case"data":this.c.data.push(h),this.resume();break;case"end":this.c.end.push(h),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(h),this.a.flowing&&this.k();break}}removeListener(l,h){if(this.a.destroyed)return;let $;switch(l){case"data":$=this.c.data;break;case"end":$=this.c.end;break;case"error":$=this.c.error;break}if($){const v=$.indexOf(h);v>=0&&$.splice(v,1)}}j(){if(this.b.data.length>0){const l=this.e(this.b.data);this.g(l),this.b.data.length=0;const h=[...this.d];this.d.length=0,h.forEach($=>$())}}k(){if(this.c.error.length>0){for(const l of this.b.error)this.h(l);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function m(n,l){const h=[];let $;for(;($=n.read())!==null;)h.push($);return l(h)}function b(n,l,h){const $=[];let v;for(;(v=n.read())!==null&&$.length<h;)$.push(v);return v===null&&$.length>0?l($):{read:()=>{if($.length>0)return $.shift();if(typeof v<"u"){const P=v;return v=void 0,P}return n.read()}}}function U(n,l){return new Promise((h,$)=>{const v=[];g(n,{onData:P=>{l&&v.push(P)},onError:P=>{l?$(P):h(void 0)},onEnd:()=>{h(l?l(v):void 0)}})})}function g(n,l,h){n.on("error",$=>{h?.isCancellationRequested||l.onError($)}),n.on("end",()=>{h?.isCancellationRequested||l.onEnd()}),n.on("data",$=>{h?.isCancellationRequested||l.onData($)})}function k(n,l){return new Promise((h,$)=>{const v=new z.$Uc,P=[],O=y=>{if(P.push(y),P.length>l)return v.dispose(),n.pause(),h({stream:n,buffer:P,ended:!1})},I=y=>(v.dispose(),$(y)),d=()=>(v.dispose(),h({stream:n,buffer:P,ended:!0}));v.add((0,z.$Tc)(()=>n.removeListener("error",I))),n.on("error",I),v.add((0,z.$Tc)(()=>n.removeListener("end",d))),n.on("end",d),v.add((0,z.$Tc)(()=>n.removeListener("data",O))),n.on("data",O)})}function c(n,l){const h=V(l);return h.end(n),h}function o(){const n=V(()=>{throw new Error("not supported")});return n.end(),n}function r(n){let l=!1;return{read:()=>l?null:(l=!0,n)}}function u(n,l,h){const $=V(h);return g(n,{onData:v=>$.write(l.data(v)),onError:v=>$.error(l.error?l.error(v):v),onEnd:()=>$.end()}),$}function t(n,l,h){let $=!1;return{read:()=>{const v=l.read();return $?v:($=!0,v!==null?h([n,v]):n)}}}function s(n,l,h){let $=!1;const v=V(h);return g(l,{onData:P=>$?v.write(P):($=!0,v.write(h([n,P]))),onError:P=>v.error(P),onEnd:()=>{$||($=!0,v.write(n)),v.end()}}),v}}),define(ue[6],ce([0,1,15,14]),function(he,e,T,z){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ge=void 0,e.$He=m,e.$Ie=b,e.$Je=U,e.$Ke=g,e.$Le=k,e.$Me=c,e.$Ne=o,e.$Oe=r,e.$Pe=u,e.$Qe=t,e.$Re=s,e.$Se=n,e.$Te=l,e.$Ue=h,e.$Ve=$,e.$We=v,e.$Xe=P,e.$Ye=O,e.$Ze=I,e.$1e=K;const G=typeof Buffer<"u",E=new T.$V(()=>new Uint8Array(256));let B,V;class C{static alloc(p){return G?new C(Buffer.allocUnsafe(p)):new C(new Uint8Array(p))}static wrap(p){return G&&!Buffer.isBuffer(p)&&(p=Buffer.from(p.buffer,p.byteOffset,p.byteLength)),new C(p)}static fromString(p,q){return!(q?.dontUseNodeBuffer||!1)&&G?new C(Buffer.from(p)):(B||(B=new TextEncoder),new C(B.encode(p)))}static fromByteArray(p){const q=C.alloc(p.length);for(let x=0,ie=p.length;x<ie;x++)q.buffer[x]=p[x];return q}static concat(p,q){if(typeof q>"u"){q=0;for(let le=0,re=p.length;le<re;le++)q+=p[le].byteLength}const x=C.alloc(q);let ie=0;for(let le=0,re=p.length;le<re;le++){const ne=p[le];x.set(ne,ie),ie+=ne.byteLength}return x}constructor(p){this.buffer=p,this.byteLength=this.buffer.byteLength}clone(){const p=C.alloc(this.byteLength);return p.set(this),p}toString(){return G?this.buffer.toString():(V||(V=new TextDecoder),V.decode(this.buffer))}slice(p,q){return new C(this.buffer.subarray(p,q))}set(p,q){if(p instanceof C)this.buffer.set(p.buffer,q);else if(p instanceof Uint8Array)this.buffer.set(p,q);else if(p instanceof ArrayBuffer)this.buffer.set(new Uint8Array(p),q);else if(ArrayBuffer.isView(p))this.buffer.set(new Uint8Array(p.buffer,p.byteOffset,p.byteLength),q);else throw new Error("Unknown argument 'array'")}readUInt32BE(p){return g(this.buffer,p)}writeUInt32BE(p,q){k(this.buffer,p,q)}readUInt32LE(p){return c(this.buffer,p)}writeUInt32LE(p,q){o(this.buffer,p,q)}readUInt8(p){return r(this.buffer,p)}writeUInt8(p,q){u(this.buffer,p,q)}indexOf(p,q=0){return m(this.buffer,p instanceof C?p.buffer:p,q)}}e.$Ge=C;function m(A,p,q=0){const x=p.byteLength,ie=A.byteLength;if(x===0)return 0;if(x===1)return A.indexOf(p[0]);if(x>ie-q)return-1;const le=E.value;le.fill(p.length);for(let w=0;w<p.length;w++)le[p[w]]=p.length-w-1;let re=q+p.length-1,ne=re,oe=-1;for(;re<ie;)if(A[re]===p[ne]){if(ne===0){oe=re;break}re--,ne--}else re+=Math.max(p.length-ne,le[A[re]]),ne=p.length-1;return oe}function b(A,p){return A[p+0]<<0>>>0|A[p+1]<<8>>>0}function U(A,p,q){A[q+0]=p&255,p=p>>>8,A[q+1]=p&255}function g(A,p){return A[p]*2**24+A[p+1]*2**16+A[p+2]*2**8+A[p+3]}function k(A,p,q){A[q+3]=p,p=p>>>8,A[q+2]=p,p=p>>>8,A[q+1]=p,p=p>>>8,A[q]=p}function c(A,p){return A[p+0]<<0>>>0|A[p+1]<<8>>>0|A[p+2]<<16>>>0|A[p+3]<<24>>>0}function o(A,p,q){A[q+0]=p&255,p=p>>>8,A[q+1]=p&255,p=p>>>8,A[q+2]=p&255,p=p>>>8,A[q+3]=p&255}function r(A,p){return A[p]}function u(A,p,q){A[q]=p}function t(A){return z.$ve(A,p=>C.concat(p))}function s(A){return z.$Ce(A)}function n(A){return z.$xe(A,p=>C.concat(p))}async function l(A){return A.ended?C.concat(A.buffer):C.concat([...A.buffer,await n(A.stream)])}function h(A){return z.$Ae(A,p=>C.concat(p))}function $(A){return z.$De(A,{data:p=>typeof p=="string"?C.fromString(p):C.wrap(p)},p=>C.concat(p))}function v(A){return z.$ue(p=>C.concat(p),A)}function P(A,p){return z.$Ee(A,p,q=>C.concat(q))}function O(A,p){return z.$Fe(A,p,q=>C.concat(q))}function I(A){let p=0,q=0,x=0;const ie=new Uint8Array(Math.floor(A.length/4*3)),le=ne=>{switch(q){case 3:ie[x++]=p|ne,q=0;break;case 2:ie[x++]=p|ne>>>2,p=ne<<6,q=3;break;case 1:ie[x++]=p|ne>>>4,p=ne<<4,q=2;break;default:p=ne<<2,q=1}};for(let ne=0;ne<A.length;ne++){const oe=A.charCodeAt(ne);if(oe>=65&&oe<=90)le(oe-65);else if(oe>=97&&oe<=122)le(oe-97+26);else if(oe>=48&&oe<=57)le(oe-48+52);else if(oe===43||oe===45)le(62);else if(oe===47||oe===95)le(63);else{if(oe===61)break;throw new SyntaxError(`Unexpected base64 character ${A[ne]}`)}}const re=x;for(;q>0;)le(0);return C.wrap(ie).slice(0,re)}const d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function K({buffer:A},p=!0,q=!1){const x=q?y:d;let ie="";const le=A.byteLength%3;let re=0;for(;re<A.byteLength-le;re+=3){const ne=A[re+0],oe=A[re+1],w=A[re+2];ie+=x[ne>>>2],ie+=x[(ne<<4|oe>>>4)&63],ie+=x[(oe<<2|w>>>6)&63],ie+=x[w&63]}if(le===1){const ne=A[re+0];ie+=x[ne>>>2],ie+=x[ne<<4&63],p&&(ie+="==")}else if(le===2){const ne=A[re+0],oe=A[re+1];ie+=x[ne>>>2],ie+=x[(ne<<4|oe>>>4)&63],ie+=x[oe<<2&63],p&&(ie+="=")}return ie}}),define(ue[16],ce([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$be=void 0,e.$be=Symbol("MicrotaskDelay")}),define(ue[17],ce([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringEOL=void 0,e.$1t=z;var T;(function(G){G[G.Unknown=0]="Unknown",G[G.Invalid=3]="Invalid",G[G.LF=1]="LF",G[G.CRLF=2]="CRLF"})(T||(e.StringEOL=T={}));function z(G){let E=0,B=0,V=0,C=0;for(let m=0,b=G.length;m<b;m++){const U=G.charCodeAt(m);U===13?(E===0&&(B=m),E++,m+1<b&&G.charCodeAt(m+1)===10?(C|=2,m++):C|=3,V=m+1):U===10&&(C|=1,E===0&&(B=m),E++,V=m+1)}return E===0&&(B=G.length),[E,B,G.length-V,C]}}),define(ue[18],ce([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$GC=e.NodeColor=e.$FC=void 0,e.$HC=G,e.$IC=E,e.$JC=m,e.$KC=b,e.$LC=U,e.$MC=g,e.$NC=k,e.$OC=c;class T{constructor(r,u){this.piece=r,this.color=u,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.$GC)return G(this.right);let r=this;for(;r.parent!==e.$GC&&r.parent.left!==r;)r=r.parent;return r.parent===e.$GC?e.$GC:r.parent}prev(){if(this.left!==e.$GC)return E(this.left);let r=this;for(;r.parent!==e.$GC&&r.parent.right!==r;)r=r.parent;return r.parent===e.$GC?e.$GC:r.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.$FC=T;var z;(function(o){o[o.Black=0]="Black",o[o.Red=1]="Red"})(z||(e.NodeColor=z={})),e.$GC=new T(null,0),e.$GC.parent=e.$GC,e.$GC.left=e.$GC,e.$GC.right=e.$GC,e.$GC.color=0;function G(o){for(;o.left!==e.$GC;)o=o.left;return o}function E(o){for(;o.right!==e.$GC;)o=o.right;return o}function B(o){return o===e.$GC?0:o.size_left+o.piece.length+B(o.right)}function V(o){return o===e.$GC?0:o.lf_left+o.piece.lineFeedCnt+V(o.right)}function C(){e.$GC.parent=e.$GC}function m(o,r){const u=r.right;u.size_left+=r.size_left+(r.piece?r.piece.length:0),u.lf_left+=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),r.right=u.left,u.left!==e.$GC&&(u.left.parent=r),u.parent=r.parent,r.parent===e.$GC?o.root=u:r.parent.left===r?r.parent.left=u:r.parent.right=u,u.left=r,r.parent=u}function b(o,r){const u=r.left;r.left=u.right,u.right!==e.$GC&&(u.right.parent=r),u.parent=r.parent,r.size_left-=u.size_left+(u.piece?u.piece.length:0),r.lf_left-=u.lf_left+(u.piece?u.piece.lineFeedCnt:0),r.parent===e.$GC?o.root=u:r===r.parent.right?r.parent.right=u:r.parent.left=u,u.right=r,r.parent=u}function U(o,r){let u,t;if(r.left===e.$GC?(t=r,u=t.right):r.right===e.$GC?(t=r,u=t.left):(t=G(r.right),u=t.right),t===o.root){o.root=u,u.color=0,r.detach(),C(),o.root.parent=e.$GC;return}const s=t.color===1;if(t===t.parent.left?t.parent.left=u:t.parent.right=u,t===r?(u.parent=t.parent,c(o,u)):(t.parent===r?u.parent=t:u.parent=t.parent,c(o,u),t.left=r.left,t.right=r.right,t.parent=r.parent,t.color=r.color,r===o.root?o.root=t:r===r.parent.left?r.parent.left=t:r.parent.right=t,t.left!==e.$GC&&(t.left.parent=t),t.right!==e.$GC&&(t.right.parent=t),t.size_left=r.size_left,t.lf_left=r.lf_left,c(o,t)),r.detach(),u.parent.left===u){const l=B(u),h=V(u);if(l!==u.parent.size_left||h!==u.parent.lf_left){const $=l-u.parent.size_left,v=h-u.parent.lf_left;u.parent.size_left=l,u.parent.lf_left=h,k(o,u.parent,$,v)}}if(c(o,u.parent),s){C();return}let n;for(;u!==o.root&&u.color===0;)u===u.parent.left?(n=u.parent.right,n.color===1&&(n.color=0,u.parent.color=1,m(o,u.parent),n=u.parent.right),n.left.color===0&&n.right.color===0?(n.color=1,u=u.parent):(n.right.color===0&&(n.left.color=0,n.color=1,b(o,n),n=u.parent.right),n.color=u.parent.color,u.parent.color=0,n.right.color=0,m(o,u.parent),u=o.root)):(n=u.parent.left,n.color===1&&(n.color=0,u.parent.color=1,b(o,u.parent),n=u.parent.left),n.left.color===0&&n.right.color===0?(n.color=1,u=u.parent):(n.left.color===0&&(n.right.color=0,n.color=1,m(o,n),n=u.parent.left),n.color=u.parent.color,u.parent.color=0,n.left.color=0,b(o,u.parent),u=o.root));u.color=0,C()}function g(o,r){for(c(o,r);r!==o.root&&r.parent.color===1;)if(r.parent===r.parent.parent.left){const u=r.parent.parent.right;u.color===1?(r.parent.color=0,u.color=0,r.parent.parent.color=1,r=r.parent.parent):(r===r.parent.right&&(r=r.parent,m(o,r)),r.parent.color=0,r.parent.parent.color=1,b(o,r.parent.parent))}else{const u=r.parent.parent.left;u.color===1?(r.parent.color=0,u.color=0,r.parent.parent.color=1,r=r.parent.parent):(r===r.parent.left&&(r=r.parent,b(o,r)),r.parent.color=0,r.parent.parent.color=1,m(o,r.parent.parent))}o.root.color=0}function k(o,r,u,t){for(;r!==o.root&&r!==e.$GC;)r.parent.left===r&&(r.parent.size_left+=u,r.parent.lf_left+=t),r=r.parent}function c(o,r){let u=0,t=0;if(r!==o.root){for(;r!==o.root&&r===r.parent.right;)r=r.parent;if(r!==o.root)for(r=r.parent,u=B(r.left)-r.size_left,t=V(r.left)-r.lf_left,r.size_left+=u,r.lf_left+=t;r!==o.root&&(u!==0||t!==0);)r.parent.left===r&&(r.parent.size_left+=u,r.parent.lf_left+=t),r=r.parent}}}),define(ue[9],ce([0,1,41,10,19,18,20]),function(he,e,T,z,G,E,B){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ZC=e.$YC=e.$XC=void 0,e.$VC=b,e.$WC=U;const V=65535;function C(u){let t;return u[u.length-1]<65536?t=new Uint16Array(u.length):t=new Uint32Array(u.length),t.set(u,0),t}class m{constructor(t,s,n,l,h){this.lineStarts=t,this.cr=s,this.lf=n,this.crlf=l,this.isBasicASCII=h}}function b(u,t=!0){const s=[0];let n=1;for(let l=0,h=u.length;l<h;l++){const $=u.charCodeAt(l);$===13?l+1<h&&u.charCodeAt(l+1)===10?(s[n++]=l+2,l++):s[n++]=l+1:$===10&&(s[n++]=l+1)}return t?C(s):s}function U(u,t){u.length=0,u[0]=0;let s=1,n=0,l=0,h=0,$=!0;for(let P=0,O=t.length;P<O;P++){const I=t.charCodeAt(P);I===13?P+1<O&&t.charCodeAt(P+1)===10?(h++,u[s++]=P+2,P++):(n++,u[s++]=P+1):I===10?(l++,u[s++]=P+1):$&&I!==9&&(I<32||I>126)&&($=!1)}const v=new m(C(u),n,l,h,$);return u.length=0,v}class g{constructor(t,s,n,l,h){this.bufferIndex=t,this.start=s,this.end=n,this.lineFeedCnt=l,this.length=h}}e.$XC=g;class k{constructor(t,s){this.buffer=t,this.lineStarts=s}}e.$YC=k;class c{constructor(t,s){this.a=[],this.c=t,this.d=s,this.b=0,t.root!==E.$GC&&t.iterate(t.root,n=>(n!==E.$GC&&this.a.push(n.piece),!0))}read(){return this.a.length===0?this.b===0?(this.b++,this.d):null:this.b>this.a.length-1?null:this.b===0?this.d+this.c.getPieceContent(this.a[this.b++]):this.c.getPieceContent(this.a[this.b++])}}class o{constructor(t){this.a=t,this.b=[]}get(t){for(let s=this.b.length-1;s>=0;s--){const n=this.b[s];if(n.nodeStartOffset<=t&&n.nodeStartOffset+n.node.piece.length>=t)return n}return null}get2(t){for(let s=this.b.length-1;s>=0;s--){const n=this.b[s];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<t&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=t)return n}return null}set(t){this.b.length>=this.a&&this.b.shift(),this.b.push(t)}validate(t){let s=!1;const n=this.b;for(let l=0;l<n.length;l++){const h=n[l];if(h.node.parent===null||h.nodeStartOffset>=t){n[l]=null,s=!0;continue}}if(s){const l=[];for(const h of n)h!==null&&l.push(h);this.b=l}}}class r{constructor(t,s,n){this.create(t,s,n)}create(t,s,n){this.a=[new k("",[0])],this.g={line:0,column:0},this.root=E.$GC,this.b=1,this.c=0,this.d=s,this.e=s.length,this.f=n;let l=null;for(let h=0,$=t.length;h<$;h++)if(t[h].buffer.length>0){t[h].lineStarts||(t[h].lineStarts=b(t[h].buffer));const v=new g(h+1,{line:0,column:0},{line:t[h].lineStarts.length-1,column:t[h].buffer.length-t[h].lineStarts[t[h].lineStarts.length-1]},t[h].lineStarts.length-1,t[h].buffer.length);this.a.push(t[h]),l=this.S(l,v)}this.h=new o(1),this.j={lineNumber:0,value:""},this.y()}normalizeEOL(t){const s=V,n=s-Math.floor(s/3),l=n*2;let h="",$=0;const v=[];if(this.iterate(this.root,P=>{const O=this.R(P),I=O.length;if($<=n||$+I<l)return h+=O,$+=I,!0;const d=h.replace(/\r\n|\r|\n/g,t);return v.push(new k(d,b(d))),h=O,$=I,!0}),$>0){const P=h.replace(/\r\n|\r|\n/g,t);v.push(new k(P,b(P)))}this.create(v,t,!0)}getEOL(){return this.d}setEOL(t){this.d=t,this.e=this.d.length,this.normalizeEOL(t)}createSnapshot(t){return new c(this,t)}equal(t){if(this.getLength()!==t.getLength()||this.getLineCount()!==t.getLineCount())return!1;let s=0;return this.iterate(this.root,l=>{if(l===E.$GC)return!0;const h=this.R(l),$=h.length,v=t.G(s),P=t.G(s+$),O=t.getValueInRange2(v,P);return s+=$,h===O})}getOffsetAt(t,s){let n=0,l=this.root;for(;l!==E.$GC;)if(l.left!==E.$GC&&l.lf_left+1>=t)l=l.left;else if(l.lf_left+l.piece.lineFeedCnt+1>=t){n+=l.size_left;const h=this.B(l,t-l.lf_left-2);return n+=h+s-1}else t-=l.lf_left+l.piece.lineFeedCnt,n+=l.size_left+l.piece.length,l=l.right;return n}getPositionAt(t){t=Math.floor(t),t=Math.max(0,t);let s=this.root,n=0;const l=t;for(;s!==E.$GC;)if(s.size_left!==0&&s.size_left>=t)s=s.left;else if(s.size_left+s.piece.length>=t){const h=this.A(s,t-s.size_left);if(n+=s.lf_left+h.index,h.index===0){const $=this.getOffsetAt(n+1,1),v=l-$;return new T.$tt(n+1,v+1)}return new T.$tt(n+1,h.remainder+1)}else if(t-=s.size_left+s.piece.length,n+=s.lf_left+s.piece.lineFeedCnt,s.right===E.$GC){const h=this.getOffsetAt(n+1,1),$=l-t-h;return new T.$tt(n+1,$+1)}else s=s.right;return new T.$tt(1,1)}getValueInRange(t,s){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return"";const n=this.H(t.startLineNumber,t.startColumn),l=this.H(t.endLineNumber,t.endColumn),h=this.getValueInRange2(n,l);return s?s!==this.d||!this.f?h.replace(/\r\n|\r|\n/g,s):s===this.getEOL()&&this.f?h:h.replace(/\r\n|\r|\n/g,s):h}getValueInRange2(t,s){if(t.node===s.node){const v=t.node,P=this.a[v.piece.bufferIndex].buffer,O=this.u(v.piece.bufferIndex,v.piece.start);return P.substring(O+t.remainder,O+s.remainder)}let n=t.node;const l=this.a[n.piece.bufferIndex].buffer,h=this.u(n.piece.bufferIndex,n.piece.start);let $=l.substring(h+t.remainder,h+n.piece.length);for(n=n.next();n!==E.$GC;){const v=this.a[n.piece.bufferIndex].buffer,P=this.u(n.piece.bufferIndex,n.piece.start);if(n===s.node){$+=v.substring(P,P+s.remainder);break}else $+=v.substr(P,n.piece.length);n=n.next()}return $}getLinesContent(){const t=[];let s=0,n="",l=!1;return this.iterate(this.root,h=>{if(h===E.$GC)return!0;const $=h.piece;let v=$.length;if(v===0)return!0;const P=this.a[$.bufferIndex].buffer,O=this.a[$.bufferIndex].lineStarts,I=$.start.line,d=$.end.line;let y=O[I]+$.start.column;if(l&&(P.charCodeAt(y)===10&&(y++,v--),t[s++]=n,n="",l=!1,v===0))return!0;if(I===d)return!this.f&&P.charCodeAt(y+v-1)===13?(l=!0,n+=P.substr(y,v-1)):n+=P.substr(y,v),!0;n+=this.f?P.substring(y,Math.max(y,O[I+1]-this.e)):P.substring(y,O[I+1]).replace(/(\r\n|\r|\n)$/,""),t[s++]=n;for(let K=I+1;K<d;K++)n=this.f?P.substring(O[K],O[K+1]-this.e):P.substring(O[K],O[K+1]).replace(/(\r\n|\r|\n)$/,""),t[s++]=n;return!this.f&&P.charCodeAt(O[d]+$.end.column-1)===13?(l=!0,$.end.column===0?s--:n=P.substr(O[d],$.end.column-1)):n=P.substr(O[d],$.end.column),!0}),l&&(t[s++]=n,n=""),t[s++]=n,t}getLength(){return this.c}getLineCount(){return this.b}getLineContent(t){return this.j.lineNumber===t?this.j.value:(this.j.lineNumber=t,t===this.b?this.j.value=this.getLineRawContent(t):this.f?this.j.value=this.getLineRawContent(t,this.e):this.j.value=this.getLineRawContent(t).replace(/(\r\n|\r|\n)$/,""),this.j.value)}l(t){if(t.remainder===t.node.piece.length){const s=t.node.next();if(!s)return 0;const n=this.a[s.piece.bufferIndex],l=this.u(s.piece.bufferIndex,s.piece.start);return n.buffer.charCodeAt(l)}else{const s=this.a[t.node.piece.bufferIndex],l=this.u(t.node.piece.bufferIndex,t.node.piece.start)+t.remainder;return s.buffer.charCodeAt(l)}}getLineCharCode(t,s){const n=this.H(t,s+1);return this.l(n)}getLineLength(t){if(t===this.getLineCount()){const s=this.getOffsetAt(t,1);return this.getLength()-s}return this.getOffsetAt(t+1,1)-this.getOffsetAt(t,1)-this.e}getCharCode(t){const s=this.G(t);return this.l(s)}findMatchesInNode(t,s,n,l,h,$,v,P,O,I,d){const y=this.a[t.piece.bufferIndex],K=this.u(t.piece.bufferIndex,t.piece.start),A=this.u(t.piece.bufferIndex,h),p=this.u(t.piece.bufferIndex,$);let q;const x={line:0,column:0};let ie,le;s._wordSeparators?(ie=y.buffer.substring(A,p),le=re=>re+A,s.reset(0)):(ie=y.buffer,le=re=>re,s.reset(A));do if(q=s.next(ie),q){if(le(q.index)>=p)return I;this.s(t,le(q.index)-K,x);const re=this.t(t.piece.bufferIndex,h,x),ne=x.line===h.line?x.column-h.column+l:x.column+1,oe=ne+q[0].length;if(d[I++]=(0,B.$RC)(new z.$ut(n+re,ne,n+re,oe),q,P),le(q.index)+q[0].length>=p||I>=O)return I}while(q);return I}findMatchesLineByLine(t,s,n,l){const h=[];let $=0;const v=new B.$UC(s.wordSeparators,s.regex);let P=this.H(t.startLineNumber,t.startColumn);if(P===null)return[];const O=this.H(t.endLineNumber,t.endColumn);if(O===null)return[];let I=this.s(P.node,P.remainder);const d=this.s(O.node,O.remainder);if(P.node===O.node)return this.findMatchesInNode(P.node,v,t.startLineNumber,t.startColumn,I,d,s,n,l,$,h),h;let y=t.startLineNumber,K=P.node;for(;K!==O.node;){const p=this.t(K.piece.bufferIndex,I,K.piece.end);if(p>=1){const x=this.a[K.piece.bufferIndex].lineStarts,ie=this.u(K.piece.bufferIndex,K.piece.start),le=x[I.line+p],re=y===t.startLineNumber?t.startColumn:1;if($=this.findMatchesInNode(K,v,y,re,I,this.s(K,le-ie),s,n,l,$,h),$>=l)return h;y+=p}const q=y===t.startLineNumber?t.startColumn-1:0;if(y===t.endLineNumber){const x=this.getLineContent(y).substring(q,t.endColumn-1);return $=this.n(s,v,x,t.endLineNumber,q,$,h,n,l),h}if($=this.n(s,v,this.getLineContent(y).substr(q),y,q,$,h,n,l),$>=l)return h;y++,P=this.H(y,1),K=P.node,I=this.s(P.node,P.remainder)}if(y===t.endLineNumber){const p=y===t.startLineNumber?t.startColumn-1:0,q=this.getLineContent(y).substring(p,t.endColumn-1);return $=this.n(s,v,q,t.endLineNumber,p,$,h,n,l),h}const A=y===t.startLineNumber?t.startColumn:1;return $=this.findMatchesInNode(O.node,v,y,A,I,d,s,n,l,$,h),h}n(t,s,n,l,h,$,v,P,O){const I=t.wordSeparators;if(!P&&t.simpleSearch){const y=t.simpleSearch,K=y.length,A=n.length;let p=-K;for(;(p=n.indexOf(y,p+K))!==-1;)if((!I||(0,B.$TC)(I,n,A,p,K))&&(v[$++]=new G.$Fv(new z.$ut(l,p+1+h,l,p+1+K+h),null),$>=O))return $;return $}let d;s.reset(0);do if(d=s.next(n),d&&(v[$++]=(0,B.$RC)(new z.$ut(l,d.index+1+h,l,d.index+1+d[0].length+h),d,P),$>=O))return $;while(d);return $}insert(t,s,n=!1){if(this.f=this.f&&n,this.j.lineNumber=0,this.j.value="",this.root!==E.$GC){const{node:l,remainder:h,nodeStartOffset:$}=this.G(t),v=l.piece,P=v.bufferIndex,O=this.s(l,h);if(l.piece.bufferIndex===0&&v.end.line===this.g.line&&v.end.column===this.g.column&&$+v.length===t&&s.length<V){this.F(l,s),this.y();return}if($===t)this.o(s,l),this.h.validate(t);else if($+l.piece.length>t){const I=[];let d=new g(v.bufferIndex,O,v.end,this.t(v.bufferIndex,O,v.end),this.u(P,v.end)-this.u(P,O));if(this.K()&&this.M(s)&&this.I(l,h)===10){const p={line:d.start.line+1,column:0};d=new g(d.bufferIndex,p,d.end,this.t(d.bufferIndex,p,d.end),d.length-1),s+=`
`}if(this.K()&&this.L(s))if(this.I(l,h-1)===13){const p=this.s(l,h-1);this.C(l,p),s="\r"+s,l.piece.length===0&&I.push(l)}else this.C(l,O);else this.C(l,O);const y=this.w(s);d.length>0&&this.S(l,d);let K=l;for(let A=0;A<y.length;A++)K=this.S(K,y[A]);this.v(I)}else this.q(s,l)}else{const l=this.w(s);let h=this.T(null,l[0]);for(let $=1;$<l.length;$++)h=this.S(h,l[$])}this.y()}delete(t,s){if(this.j.lineNumber=0,this.j.value="",s<=0||this.root===E.$GC)return;const n=this.G(t),l=this.G(t+s),h=n.node,$=l.node;if(h===$){const y=this.s(h,n.remainder),K=this.s(h,l.remainder);if(n.nodeStartOffset===t){if(s===h.piece.length){const A=h.next();(0,E.$LC)(this,h),this.N(A),this.y();return}this.D(h,K),this.h.validate(t),this.N(h),this.y();return}if(n.nodeStartOffset+h.piece.length===t+s){this.C(h,y),this.O(h),this.y();return}this.E(h,y,K),this.y();return}const v=[],P=this.s(h,n.remainder);this.C(h,P),this.h.validate(t),h.piece.length===0&&v.push(h);const O=this.s($,l.remainder);this.D($,O),$.piece.length===0&&v.push($);const I=h.next();for(let y=I;y!==E.$GC&&y!==$;y=y.next())v.push(y);const d=h.piece.length===0?h.prev():h;this.v(v),this.O(d),this.y()}o(t,s){const n=[];if(this.K()&&this.M(t)&&this.L(s)){const $=s.piece,v={line:$.start.line+1,column:0},P=new g($.bufferIndex,v,$.end,this.t($.bufferIndex,v,$.end),$.length-1);s.piece=P,t+=`
`,(0,E.$NC)(this,s,-1,-1),s.piece.length===0&&n.push(s)}const l=this.w(t);let h=this.T(s,l[l.length-1]);for(let $=l.length-2;$>=0;$--)h=this.T(h,l[$]);this.N(h),this.v(n)}q(t,s){this.Q(t,s)&&(t+=`
`);const n=this.w(t),l=this.S(s,n[0]);let h=l;for(let $=1;$<n.length;$++)h=this.S(h,n[$]);this.N(l)}s(t,s,n){const l=t.piece,h=t.piece.bufferIndex,$=this.a[h].lineStarts,P=$[l.start.line]+l.start.column+s;let O=l.start.line,I=l.end.line,d=0,y=0,K=0;for(;O<=I&&(d=O+(I-O)/2|0,K=$[d],d!==I);)if(y=$[d+1],P<K)I=d-1;else if(P>=y)O=d+1;else break;return n?(n.line=d,n.column=P-K,null):{line:d,column:P-K}}t(t,s,n){if(n.column===0)return n.line-s.line;const l=this.a[t].lineStarts;if(n.line===l.length-1)return n.line-s.line;const h=l[n.line+1],$=l[n.line]+n.column;if(h>$+1)return n.line-s.line;const v=$-1;return this.a[t].buffer.charCodeAt(v)===13?n.line-s.line+1:n.line-s.line}u(t,s){return this.a[t].lineStarts[s.line]+s.column}v(t){for(let s=0;s<t.length;s++)(0,E.$LC)(this,t[s])}w(t){if(t.length>V){const I=[];for(;t.length>V;){const y=t.charCodeAt(V-1);let K;y===13||y>=55296&&y<=56319?(K=t.substring(0,V-1),t=t.substring(V-1)):(K=t.substring(0,V),t=t.substring(V));const A=b(K);I.push(new g(this.a.length,{line:0,column:0},{line:A.length-1,column:K.length-A[A.length-1]},A.length-1,K.length)),this.a.push(new k(K,A))}const d=b(t);return I.push(new g(this.a.length,{line:0,column:0},{line:d.length-1,column:t.length-d[d.length-1]},d.length-1,t.length)),this.a.push(new k(t,d)),I}let s=this.a[0].buffer.length;const n=b(t,!1);let l=this.g;if(this.a[0].lineStarts[this.a[0].lineStarts.length-1]===s&&s!==0&&this.L(t)&&this.M(this.a[0].buffer)){this.g={line:this.g.line,column:this.g.column+1},l=this.g;for(let I=0;I<n.length;I++)n[I]+=s+1;this.a[0].lineStarts=this.a[0].lineStarts.concat(n.slice(1)),this.a[0].buffer+="_"+t,s+=1}else{if(s!==0)for(let I=0;I<n.length;I++)n[I]+=s;this.a[0].lineStarts=this.a[0].lineStarts.concat(n.slice(1)),this.a[0].buffer+=t}const h=this.a[0].buffer.length,$=this.a[0].lineStarts.length-1,v=h-this.a[0].lineStarts[$],P={line:$,column:v},O=new g(0,l,P,this.t(0,l,P),h-s);return this.g=P,[O]}getLinesRawContent(){return this.U(this.root)}getLineRawContent(t,s=0){let n=this.root,l="";const h=this.h.get2(t);if(h){n=h.node;const $=this.B(n,t-h.nodeStartLineNumber-1),v=this.a[n.piece.bufferIndex].buffer,P=this.u(n.piece.bufferIndex,n.piece.start);if(h.nodeStartLineNumber+n.piece.lineFeedCnt===t)l=v.substring(P+$,P+n.piece.length);else{const O=this.B(n,t-h.nodeStartLineNumber);return v.substring(P+$,P+O-s)}}else{let $=0;const v=t;for(;n!==E.$GC;)if(n.left!==E.$GC&&n.lf_left>=t-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>t-1){const P=this.B(n,t-n.lf_left-2),O=this.B(n,t-n.lf_left-1),I=this.a[n.piece.bufferIndex].buffer,d=this.u(n.piece.bufferIndex,n.piece.start);return $+=n.size_left,this.h.set({node:n,nodeStartOffset:$,nodeStartLineNumber:v-(t-1-n.lf_left)}),I.substring(d+P,d+O-s)}else if(n.lf_left+n.piece.lineFeedCnt===t-1){const P=this.B(n,t-n.lf_left-2),O=this.a[n.piece.bufferIndex].buffer,I=this.u(n.piece.bufferIndex,n.piece.start);l=O.substring(I+P,I+n.piece.length);break}else t-=n.lf_left+n.piece.lineFeedCnt,$+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==E.$GC;){const $=this.a[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){const v=this.B(n,0),P=this.u(n.piece.bufferIndex,n.piece.start);return l+=$.substring(P,P+v-s),l}else{const v=this.u(n.piece.bufferIndex,n.piece.start);l+=$.substr(v,n.piece.length)}n=n.next()}return l}y(){let t=this.root,s=1,n=0;for(;t!==E.$GC;)s+=t.lf_left+t.piece.lineFeedCnt,n+=t.size_left+t.piece.length,t=t.right;this.b=s,this.c=n,this.h.validate(this.c)}A(t,s){const n=t.piece,l=this.s(t,s),h=l.line-n.start.line;if(this.u(n.bufferIndex,n.end)-this.u(n.bufferIndex,n.start)===s){const $=this.t(t.piece.bufferIndex,n.start,l);if($!==h)return{index:$,remainder:0}}return{index:h,remainder:l.column}}B(t,s){if(s<0)return 0;const n=t.piece,l=this.a[n.bufferIndex].lineStarts,h=n.start.line+s+1;return h>n.end.line?l[n.end.line]+n.end.column-l[n.start.line]-n.start.column:l[h]-l[n.start.line]-n.start.column}C(t,s){const n=t.piece,l=n.lineFeedCnt,h=this.u(n.bufferIndex,n.end),$=s,v=this.u(n.bufferIndex,$),P=this.t(n.bufferIndex,n.start,$),O=P-l,I=v-h,d=n.length+I;t.piece=new g(n.bufferIndex,n.start,$,P,d),(0,E.$NC)(this,t,I,O)}D(t,s){const n=t.piece,l=n.lineFeedCnt,h=this.u(n.bufferIndex,n.start),$=s,v=this.t(n.bufferIndex,$,n.end),P=this.u(n.bufferIndex,$),O=v-l,I=h-P,d=n.length+I;t.piece=new g(n.bufferIndex,$,n.end,v,d),(0,E.$NC)(this,t,I,O)}E(t,s,n){const l=t.piece,h=l.start,$=l.end,v=l.length,P=l.lineFeedCnt,O=s,I=this.t(l.bufferIndex,l.start,O),d=this.u(l.bufferIndex,s)-this.u(l.bufferIndex,h);t.piece=new g(l.bufferIndex,l.start,O,I,d),(0,E.$NC)(this,t,d-v,I-P);const y=new g(l.bufferIndex,n,$,this.t(l.bufferIndex,n,$),this.u(l.bufferIndex,$)-this.u(l.bufferIndex,n)),K=this.S(t,y);this.N(K)}F(t,s){this.Q(s,t)&&(s+=`
`);const n=this.K()&&this.L(s)&&this.M(t),l=this.a[0].buffer.length;this.a[0].buffer+=s;const h=b(s,!1);for(let K=0;K<h.length;K++)h[K]+=l;if(n){const K=this.a[0].lineStarts[this.a[0].lineStarts.length-2];this.a[0].lineStarts.pop(),this.g={line:this.g.line-1,column:l-K}}this.a[0].lineStarts=this.a[0].lineStarts.concat(h.slice(1));const $=this.a[0].lineStarts.length-1,v=this.a[0].buffer.length-this.a[0].lineStarts[$],P={line:$,column:v},O=t.piece.length+s.length,I=t.piece.lineFeedCnt,d=this.t(0,t.piece.start,P),y=d-I;t.piece=new g(t.piece.bufferIndex,t.piece.start,P,d,O),this.g=P,(0,E.$NC)(this,t,s.length,y)}G(t){let s=this.root;const n=this.h.get(t);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:t-n.nodeStartOffset};let l=0;for(;s!==E.$GC;)if(s.size_left>t)s=s.left;else if(s.size_left+s.piece.length>=t){l+=s.size_left;const h={node:s,remainder:t-s.size_left,nodeStartOffset:l};return this.h.set(h),h}else t-=s.size_left+s.piece.length,l+=s.size_left+s.piece.length,s=s.right;return null}H(t,s){let n=this.root,l=0;for(;n!==E.$GC;)if(n.left!==E.$GC&&n.lf_left>=t-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>t-1){const h=this.B(n,t-n.lf_left-2),$=this.B(n,t-n.lf_left-1);return l+=n.size_left,{node:n,remainder:Math.min(h+s-1,$),nodeStartOffset:l}}else if(n.lf_left+n.piece.lineFeedCnt===t-1){const h=this.B(n,t-n.lf_left-2);if(h+s-1<=n.piece.length)return{node:n,remainder:h+s-1,nodeStartOffset:l};s-=n.piece.length-h;break}else t-=n.lf_left+n.piece.lineFeedCnt,l+=n.size_left+n.piece.length,n=n.right;for(n=n.next();n!==E.$GC;){if(n.piece.lineFeedCnt>0){const h=this.B(n,0),$=this.J(n);return{node:n,remainder:Math.min(s-1,h),nodeStartOffset:$}}else if(n.piece.length>=s-1){const h=this.J(n);return{node:n,remainder:s-1,nodeStartOffset:h}}else s-=n.piece.length;n=n.next()}return null}I(t,s){if(t.piece.lineFeedCnt<1)return-1;const n=this.a[t.piece.bufferIndex],l=this.u(t.piece.bufferIndex,t.piece.start)+s;return n.buffer.charCodeAt(l)}J(t){if(!t)return 0;let s=t.size_left;for(;t!==this.root;)t.parent.right===t&&(s+=t.parent.size_left+t.parent.piece.length),t=t.parent;return s}K(){return!(this.f&&this.d===`
`)}L(t){if(typeof t=="string")return t.charCodeAt(0)===10;if(t===E.$GC||t.piece.lineFeedCnt===0)return!1;const s=t.piece,n=this.a[s.bufferIndex].lineStarts,l=s.start.line,h=n[l]+s.start.column;return l===n.length-1||n[l+1]>h+1?!1:this.a[s.bufferIndex].buffer.charCodeAt(h)===10}M(t){return typeof t=="string"?t.charCodeAt(t.length-1)===13:t===E.$GC||t.piece.lineFeedCnt===0?!1:this.I(t,t.piece.length-1)===13}N(t){if(this.K()&&this.L(t)){const s=t.prev();this.M(s)&&this.P(s,t)}}O(t){if(this.K()&&this.M(t)){const s=t.next();this.L(s)&&this.P(t,s)}}P(t,s){const n=[],l=this.a[t.piece.bufferIndex].lineStarts;let h;t.piece.end.column===0?h={line:t.piece.end.line-1,column:l[t.piece.end.line]-l[t.piece.end.line-1]-1}:h={line:t.piece.end.line,column:t.piece.end.column-1};const $=t.piece.length-1,v=t.piece.lineFeedCnt-1;t.piece=new g(t.piece.bufferIndex,t.piece.start,h,v,$),(0,E.$NC)(this,t,-1,-1),t.piece.length===0&&n.push(t);const P={line:s.piece.start.line+1,column:0},O=s.piece.length-1,I=this.t(s.piece.bufferIndex,P,s.piece.end);s.piece=new g(s.piece.bufferIndex,P,s.piece.end,I,O),(0,E.$NC)(this,s,-1,-1),s.piece.length===0&&n.push(s);const d=this.w(`\r
`);this.S(t,d[0]);for(let y=0;y<n.length;y++)(0,E.$LC)(this,n[y])}Q(t,s){if(this.K()&&this.M(t)){const n=s.next();if(this.L(n)){if(t+=`
`,n.piece.length===1)(0,E.$LC)(this,n);else{const l=n.piece,h={line:l.start.line+1,column:0},$=l.length-1,v=this.t(l.bufferIndex,h,l.end);n.piece=new g(l.bufferIndex,h,l.end,v,$),(0,E.$NC)(this,n,-1,-1)}return!0}}return!1}iterate(t,s){if(t===E.$GC)return s(E.$GC);const n=this.iterate(t.left,s);return n&&s(t)&&this.iterate(t.right,s)}R(t){if(t===E.$GC)return"";const s=this.a[t.piece.bufferIndex],n=t.piece,l=this.u(n.bufferIndex,n.start),h=this.u(n.bufferIndex,n.end);return s.buffer.substring(l,h)}getPieceContent(t){const s=this.a[t.bufferIndex],n=this.u(t.bufferIndex,t.start),l=this.u(t.bufferIndex,t.end);return s.buffer.substring(n,l)}S(t,s){const n=new E.$FC(s,1);if(n.left=E.$GC,n.right=E.$GC,n.parent=E.$GC,n.size_left=0,n.lf_left=0,this.root===E.$GC)this.root=n,n.color=0;else if(t.right===E.$GC)t.right=n,n.parent=t;else{const h=(0,E.$HC)(t.right);h.left=n,n.parent=h}return(0,E.$MC)(this,n),n}T(t,s){const n=new E.$FC(s,1);if(n.left=E.$GC,n.right=E.$GC,n.parent=E.$GC,n.size_left=0,n.lf_left=0,this.root===E.$GC)this.root=n,n.color=0;else if(t.left===E.$GC)t.left=n,n.parent=t;else{const l=(0,E.$IC)(t.left);l.right=n,n.parent=l}return(0,E.$MC)(this,n),n}U(t){let s="";return this.iterate(t,n=>(s+=this.R(n),!0)),s}}e.$ZC=r}),define(ue[11],ce([0,1,4,2,3,42]),function(he,e,T,z,G,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$og=B,e.$pg=V,e.$qg=C,e.$rg=m,e.$sg=b,e.$tg=c,e.$ug=o,e.$vg=r,e.$wg=u,e.$xg=t,e.$yg=s,e.$zg=n,e.$Ag=l,e.$Bg=h,e.$Cg=$,e.$Dg=v,e.$Eg=I;function B(d){return d===47||d===92}function V(d){return d.replace(/[\\/]/g,T.$hc.sep)}function C(d){return d.indexOf("/")===-1&&(d=V(d)),/^[a-zA-Z]:(\/|$)/.test(d)&&(d="/"+d),d}function m(d,y=T.$hc.sep){if(!d)return"";const K=d.length,A=d.charCodeAt(0);if(B(A)){if(B(d.charCodeAt(1))&&!B(d.charCodeAt(2))){let q=3;const x=q;for(;q<K&&!B(d.charCodeAt(q));q++);if(x!==q&&!B(d.charCodeAt(q+1))){for(q+=1;q<K;q++)if(B(d.charCodeAt(q)))return d.slice(0,q+1).replace(/[\\/]/g,y)}}return y}else if(u(A)&&d.charCodeAt(1)===58)return B(d.charCodeAt(2))?d.slice(0,2)+y:d.slice(0,2);let p=d.indexOf("://");if(p!==-1){for(p+=3;p<K;p++)if(B(d.charCodeAt(p)))return d.slice(0,p+1)}return""}function b(d){if(!z.$i||!d||d.length<5)return!1;let y=d.charCodeAt(0);if(y!==92||(y=d.charCodeAt(1),y!==92))return!1;let K=2;const A=K;for(;K<d.length&&(y=d.charCodeAt(K),y!==92);K++);return!(A===K||(y=d.charCodeAt(K+1),isNaN(y)||y===92))}const U=/[\\/:\*\?"<>\|]/g,g=/[\\/]/g,k=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function c(d,y=z.$i){const K=y?U:g;return!(!d||d.length===0||/^\s+$/.test(d)||(K.lastIndex=0,K.test(d))||y&&k.test(d)||d==="."||d===".."||y&&d[d.length-1]==="."||y&&d.length!==d.trim().length||d.length>255)}function o(d,y,K){const A=d===y;return!K||A?A:!d||!y?!1:(0,G.$yf)(d,y)}function r(d,y,K,A=T.sep){if(d===y)return!0;if(!d||!y||y.length>d.length)return!1;if(K){if(!(0,G.$zf)(d,y))return!1;if(y.length===d.length)return!0;let q=y.length;return y.charAt(y.length-1)===A&&q--,d.charAt(q)===A}return y.charAt(y.length-1)!==A&&(y+=A),d.indexOf(y)===0}function u(d){return d>=65&&d<=90||d>=97&&d<=122}function t(d,y){return z.$i&&d.endsWith(":")&&(d+=T.sep),(0,T.$jc)(d)||(d=(0,T.$kc)(y,d)),d=(0,T.$ic)(d),s(d)}function s(d){return z.$i?(d=(0,G.$gf)(d,T.sep),d.endsWith(":")&&(d+=T.sep)):(d=(0,G.$gf)(d,T.sep),d||(d=T.sep)),d}function n(d){const y=(0,T.$ic)(d);return z.$i?d.length>3?!1:l(y)&&(d.length===2||y.charCodeAt(2)===92):y===T.$hc.sep}function l(d,y=z.$i){return y?u(d.charCodeAt(0))&&d.charCodeAt(1)===58:!1}function h(d,y=z.$i){return l(d,y)?d[0]:void 0}function $(d,y,K){return y.length>d.length?-1:d===y?0:(K&&(d=d.toLowerCase(),y=y.toLowerCase()),d.indexOf(y))}function v(d){const y=d.split(":");let K,A,p;for(const q of y){const x=Number(q);(0,E.$ag)(x)?A===void 0?A=x:p===void 0&&(p=x):K=K?[K,q].join(":"):q}if(!K)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:K,line:A!==void 0?A:void 0,column:p!==void 0?p:A!==void 0?1:void 0}}const P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",O="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function I(d,y,K=8){let A="";for(let q=0;q<K;q++){let x;q===0&&z.$i&&!y&&(K===3||K===4)?x=O:x=P,A+=x.charAt(Math.floor(Math.random()*x.length))}let p;return y?p=`${y}-${A}`:p=A,d?(0,T.$kc)(d,p):p}}),define(ue[21],ce([0,1,4]),function(he,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Qs=void 0,e.$Rs=E,e.$Ss=B,e.$Ts=V,e.$Us=m,e.$Qs=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});const z={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},G={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".opus":"audio/opus",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function E(b){const U=(0,T.$pc)(b),g=z[U.toLowerCase()];return g!==void 0?g:B(b)}function B(b){const U=(0,T.$pc)(b);return G[U.toLowerCase()]}function V(b){for(const U in G)if(G[U]===b)return U}const C=/^(.+)\/(.+?)(;.+)?$/;function m(b,U){const g=C.exec(b);return g?`${g[1].toLowerCase()}/${g[2].toLowerCase()}${g[3]??""}`:U?void 0:b}}),define(ue[7],ce([0,1,5,2,3,12,4]),function(he,e,T,z,G,E,B){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.$Qg=e.$Pg=e.$Og=e.$Ng=e.$Mg=e.$Lg=e.$Jg=e.$Ig=e.$Hg=e.Schemas=void 0,e.$Fg=C,e.$Gg=m,e.$Kg=U;var V;(function(c){c.inMemory="inmemory",c.vscode="vscode",c.internal="private",c.walkThrough="walkThrough",c.walkThroughSnippet="walkThroughSnippet",c.http="http",c.https="https",c.file="file",c.mailto="mailto",c.untitled="untitled",c.data="data",c.command="command",c.vscodeRemote="vscode-remote",c.vscodeRemoteResource="vscode-remote-resource",c.vscodeManagedRemoteResource="vscode-managed-remote-resource",c.vscodeUserData="vscode-userdata",c.vscodeCustomEditor="vscode-custom-editor",c.vscodeNotebookCell="vscode-notebook-cell",c.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",c.vscodeNotebookCellOutput="vscode-notebook-cell-output",c.vscodeInteractiveInput="vscode-interactive-input",c.vscodeSettings="vscode-settings",c.vscodeWorkspaceTrust="vscode-workspace-trust",c.vscodeTerminal="vscode-terminal",c.vscodeChatCodeBlock="vscode-chat-code-block",c.vscodeChatCodeCompreBlock="vscode-chat-code-compare-block",c.vscodeChatSesssion="vscode-chat-editor",c.webviewPanel="webview-panel",c.vscodeWebview="vscode-webview",c.extension="extension",c.vscodeFileResource="vscode-file",c.tmp="tmp",c.vsls="vsls",c.vscodeSourceControl="vscode-scm",c.commentsInput="comment",c.codeSetting="code-setting"})(V||(e.Schemas=V={}));function C(c,o){return E.URI.isUri(c)?(0,G.$yf)(c.scheme,o):(0,G.$zf)(c,o+":")}function m(c,...o){return o.some(r=>C(c,r))}e.$Hg="vscode-tkn",e.$Ig="tkn";class b{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f="/"}setPreferredWebSchema(o){this.d=o}setDelegate(o){this.e=o}setServerRootPath(o,r){this.f=U(o,r)}getServerRootPath(){return this.f}get g(){return B.$hc.join(this.f,V.vscodeRemoteResource)}set(o,r,u){this.a[o]=r,this.b[o]=u}setConnectionToken(o,r){this.c[o]=r}getPreferredWebSchema(){return this.d}rewrite(o){if(this.e)try{return this.e(o)}catch(l){return T.$1(l),o}const r=o.authority;let u=this.a[r];u&&u.indexOf(":")!==-1&&u.indexOf("[")===-1&&(u=`[${u}]`);const t=this.b[r],s=this.c[r];let n=`path=${encodeURIComponent(o.path)}`;return typeof s=="string"&&(n+=`&${e.$Ig}=${encodeURIComponent(s)}`),E.URI.from({scheme:z.$o?this.d:V.vscodeRemoteResource,authority:`${u}:${t}`,path:this.g,query:n})}}e.$Jg=new b;function U(c,o){return B.$hc.join(o??"/",`${c.quality??"oss"}-${c.commit??"dev"}`)}e.$Lg="vs/../../extensions",e.$Mg="vs/../../node_modules",e.$Ng="vs/../../node_modules.asar",e.$Og="vs/../../node_modules.asar.unpacked",e.$Pg="vscode-app";class g{static{this.a=e.$Pg}asBrowserUri(o){const r=this.b(o,he);return this.uriToBrowserUri(r)}uriToBrowserUri(o){return o.scheme===V.vscodeRemote?e.$Jg.rewrite(o):o.scheme===V.file&&(z.$m||z.$q===`${V.vscodeFileResource}://${g.a}`)?o.with({scheme:V.vscodeFileResource,authority:o.authority||g.a,query:null,fragment:null}):o}asFileUri(o){const r=this.b(o,he);return this.uriToFileUri(r)}uriToFileUri(o){return o.scheme===V.vscodeFileResource?o.with({scheme:V.file,authority:o.authority!==g.a?o.authority:null,query:null,fragment:null}):o}b(o,r){return E.URI.isUri(o)?o:E.URI.parse(r.toUrl(o))}}e.$Qg=new g;var k;(function(c){const o=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);c.CoopAndCoep=Object.freeze(o.get("3"));const r="vscode-coi";function u(s){let n;typeof s=="string"?n=new URL(s).searchParams:s instanceof URL?n=s.searchParams:E.URI.isUri(s)&&(n=new URL(s.toString(!0)).searchParams);const l=n?.get(r);if(l)return o.get(l)}c.getHeadersFromQuery=u;function t(s,n,l){if(!globalThis.crossOriginIsolated)return;const h=n&&l?"3":l?"2":"1";s instanceof URLSearchParams?s.set(r,h):s[r]=h}c.addSearchParam=t})(k||(e.COI=k={}))}),define(ue[22],ce([0,1,11,7,4,2,3,12]),function(he,e,T,z,G,E,B,V){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.$fh=e.$eh=e.$dh=e.$ch=e.$bh=e.$ah=e.$_g=e.$$g=e.$0g=e.$9g=e.$8g=e.$7g=e.$6g=e.$5g=e.$4g=e.$3g=e.$2g=e.$1g=e.$Zg=e.$Yg=void 0,e.$Xg=C,e.$gh=b,e.$hh=g;function C(k){return(0,V.$xc)(k,!0)}class m{constructor(c){this.a=c}compare(c,o,r=!1){return c===o?0:(0,B.$rf)(this.getComparisonKey(c,r),this.getComparisonKey(o,r))}isEqual(c,o,r=!1){return c===o?!0:!c||!o?!1:this.getComparisonKey(c,r)===this.getComparisonKey(o,r)}getComparisonKey(c,o=!1){return c.with({path:this.a(c)?c.path.toLowerCase():void 0,fragment:o?null:void 0}).toString()}ignorePathCasing(c){return this.a(c)}isEqualOrParent(c,o,r=!1){if(c.scheme===o.scheme){if(c.scheme===z.Schemas.file)return T.$vg(C(c),C(o),this.a(c))&&c.query===o.query&&(r||c.fragment===o.fragment);if((0,e.$ch)(c.authority,o.authority))return T.$vg(c.path,o.path,this.a(c),"/")&&c.query===o.query&&(r||c.fragment===o.fragment)}return!1}joinPath(c,...o){return V.URI.joinPath(c,...o)}basenameOrAuthority(c){return(0,e.$7g)(c)||c.authority}basename(c){return G.$hc.basename(c.path)}extname(c){return G.$hc.extname(c.path)}dirname(c){if(c.path.length===0)return c;let o;return c.scheme===z.Schemas.file?o=V.URI.file(G.$nc(C(c))).path:(o=G.$hc.dirname(c.path),c.authority&&o.length&&o.charCodeAt(0)!==47&&(console.error(`dirname("${c.toString})) resulted in a relative path`),o="/")),c.with({path:o})}normalizePath(c){if(!c.path.length)return c;let o;return c.scheme===z.Schemas.file?o=V.URI.file(G.$ic(C(c))).path:o=G.$hc.normalize(c.path),c.with({path:o})}relativePath(c,o){if(c.scheme!==o.scheme||!(0,e.$ch)(c.authority,o.authority))return;if(c.scheme===z.Schemas.file){const t=G.$mc(C(c),C(o));return E.$i?T.$pg(t):t}let r=c.path||"/";const u=o.path||"/";if(this.a(c)){let t=0;for(const s=Math.min(r.length,u.length);t<s&&!(r.charCodeAt(t)!==u.charCodeAt(t)&&r.charAt(t).toLowerCase()!==u.charAt(t).toLowerCase());t++);r=u.substr(0,t)+r.substr(t)}return G.$hc.relative(r,u)}resolvePath(c,o){if(c.scheme===z.Schemas.file){const r=V.URI.file(G.$lc(C(c),o));return c.with({authority:r.authority,path:r.path})}return o=T.$qg(o),c.with({path:G.$hc.resolve(c.path,o)})}isAbsolutePath(c){return!!c.path&&c.path[0]==="/"}isEqualAuthority(c,o){return c===o||c!==void 0&&o!==void 0&&(0,B.$yf)(c,o)}hasTrailingPathSeparator(c,o=G.sep){if(c.scheme===z.Schemas.file){const r=C(c);return r.length>T.$rg(r).length&&r[r.length-1]===o}else{const r=c.path;return r.length>1&&r.charCodeAt(r.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(c.fsPath)}}removeTrailingPathSeparator(c,o=G.sep){return(0,e.$dh)(c,o)?c.with({path:c.path.substr(0,c.path.length-1)}):c}addTrailingPathSeparator(c,o=G.sep){let r=!1;if(c.scheme===z.Schemas.file){const u=C(c);r=u!==void 0&&u.length===T.$rg(u).length&&u[u.length-1]===o}else{o="/";const u=c.path;r=u.length===1&&u.charCodeAt(u.length-1)===47}return!r&&!(0,e.$dh)(c,o)?c.with({path:c.path+"/"}):c}}e.$Yg=m,e.$Zg=new m(()=>!1),e.$1g=new m(k=>k.scheme===z.Schemas.file?!E.$k:!0),e.$2g=new m(k=>!0),e.$3g=e.$Zg.isEqual.bind(e.$Zg),e.$4g=e.$Zg.isEqualOrParent.bind(e.$Zg),e.$5g=e.$Zg.getComparisonKey.bind(e.$Zg),e.$6g=e.$Zg.basenameOrAuthority.bind(e.$Zg),e.$7g=e.$Zg.basename.bind(e.$Zg),e.$8g=e.$Zg.extname.bind(e.$Zg),e.$9g=e.$Zg.dirname.bind(e.$Zg),e.$0g=e.$Zg.joinPath.bind(e.$Zg),e.$$g=e.$Zg.normalizePath.bind(e.$Zg),e.$_g=e.$Zg.relativePath.bind(e.$Zg),e.$ah=e.$Zg.resolvePath.bind(e.$Zg),e.$bh=e.$Zg.isAbsolutePath.bind(e.$Zg),e.$ch=e.$Zg.isEqualAuthority.bind(e.$Zg),e.$dh=e.$Zg.hasTrailingPathSeparator.bind(e.$Zg),e.$eh=e.$Zg.removeTrailingPathSeparator.bind(e.$Zg),e.$fh=e.$Zg.addTrailingPathSeparator.bind(e.$Zg);function b(k,c){const o=[];for(let r=0;r<k.length;r++){const u=c(k[r]);k.some((t,s)=>s===r?!1:(0,e.$4g)(u,c(t)))||o.push(k[r])}return o}var U;(function(k){k.META_DATA_LABEL="label",k.META_DATA_DESCRIPTION="description",k.META_DATA_SIZE="size",k.META_DATA_MIME="mime";function c(o){const r=new Map;o.path.substring(o.path.indexOf(";")+1,o.path.lastIndexOf(";")).split(";").forEach(s=>{const[n,l]=s.split(":");n&&l&&r.set(n,l)});const t=o.path.substring(0,o.path.indexOf(";"));return t&&r.set(k.META_DATA_MIME,t),r}k.parseMetaData=c})(U||(e.DataUri=U={}));function g(k,c,o){if(c){let r=k.path;return r&&r[0]!==G.$hc.sep&&(r=G.$hc.sep+r),k.with({scheme:o,authority:c,path:r})}return k.with({scheme:o})}}),define(ue[23],ce([0,1,43,5,24,8,22,2,16,15]),function(he,e,T,z,G,E,B,V,C,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Zh=e.$Xh=e.$Wh=e.$Vh=e.$Uh=e.Promises=e.$Th=e.$Sh=e.$Rh=e.$Ph=e.$Oh=e.$Nh=e.$Mh=e.$Lh=e.$Kh=e.$Jh=e.$Ih=e.$Hh=e.$Gh=e.$Fh=e.$Eh=e.$Dh=e.$Ch=e.$wh=e.$vh=e.$uh=e.$th=e.$sh=e.$rh=e.$qh=void 0,e.$ih=b,e.$jh=U,e.$kh=g,e.$lh=k,e.$mh=c,e.$nh=o,e.$oh=r,e.$ph=u,e.$xh=I,e.$yh=d,e.$zh=y,e.$Ah=K,e.$Bh=A,e.$Qh=R,e.$Yh=se;function b(M){return!!M&&typeof M.then=="function"}function U(M){const f=new T.$pe,L=M(f.token),D=new Promise((Z,_)=>{const ae=f.token.onCancellationRequested(()=>{ae.dispose(),_(new z.$5)});Promise.resolve(L).then(fe=>{ae.dispose(),f.dispose(),Z(fe)},fe=>{ae.dispose(),f.dispose(),_(fe)})});return new class{cancel(){f.cancel(),f.dispose()}then(Z,_){return D.then(Z,_)}catch(Z){return this.then(void 0,Z)}finally(Z){return D.finally(Z)}}}function g(M,f,L){return new Promise((D,Z)=>{const _=f.onCancellationRequested(()=>{_.dispose(),D(L)});M.then(D,Z).finally(()=>_.dispose())})}function k(M,f){return new Promise((L,D)=>{const Z=f.onCancellationRequested(()=>{Z.dispose(),D(new z.$5)});M.then(L,D).finally(()=>Z.dispose())})}async function c(M){let f=-1;const L=M.map((D,Z)=>D.then(_=>(f=Z,_)));try{return await Promise.race(L)}finally{M.forEach((D,Z)=>{Z!==f&&D.cancel()})}}function o(M,f,L){let D;const Z=setTimeout(()=>{D?.(void 0),L?.()},f);return Promise.race([M.finally(()=>clearTimeout(Z)),new Promise(_=>D=_)])}function r(M){return new Promise((f,L)=>{const D=M();b(D)?D.then(f,L):f(D)})}function u(){let M,f;return{promise:new Promise((D,Z)=>{M=D,f=Z}),resolve:M,reject:f}}class t{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(f){if(this.f)return Promise.reject(new Error("Throttler is disposed"));if(this.a){if(this.d=f,!this.b){const L=()=>{if(this.b=null,this.f)return;const D=this.queue(this.d);return this.d=null,D};this.b=new Promise(D=>{this.a.then(L,L).then(D)})}return new Promise((L,D)=>{this.b.then(L,D)})}return this.a=f(),new Promise((L,D)=>{this.a.then(Z=>{this.a=null,L(Z)},Z=>{this.a=null,D(Z)})})}dispose(){this.f=!0}}e.$qh=t;class s{constructor(){this.a=Promise.resolve(null)}queue(f){return this.a=this.a.then(()=>f(),()=>f())}}e.$rh=s;class n{constructor(){this.a=new Map}queue(f,L){const Z=(this.a.get(f)??Promise.resolve()).catch(()=>{}).then(L).finally(()=>{this.a.get(f)===Z&&this.a.delete(f)});return this.a.set(f,Z),Z}}e.$sh=n;const l=(M,f)=>{let L=!0;const D=setTimeout(()=>{L=!1,f()},M);return{isTriggered:()=>L,dispose:()=>{clearTimeout(D),L=!1}}},h=M=>{let f=!0;return queueMicrotask(()=>{f&&(f=!1,M())}),{isTriggered:()=>f,dispose:()=>{f=!1}}};class ${constructor(f){this.defaultDelay=f,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(f,L=this.defaultDelay){this.g=f,this.h(),this.b||(this.b=new Promise((Z,_)=>{this.d=Z,this.f=_}).then(()=>{if(this.b=null,this.d=null,this.g){const Z=this.g;return this.g=null,Z()}}));const D=()=>{this.a=null,this.d?.(null)};return this.a=L===C.$be?h(D):l(L,D),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new z.$5),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.$th=$;class v{constructor(f){this.a=new $(f),this.b=new t}trigger(f,L){return this.a.trigger(()=>this.b.queue(f),L)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}e.$uh=v;class P{constructor(){this.a=!1,this.b=new Promise((f,L)=>{this.d=f})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.$vh=P;class O extends P{constructor(f){super(),this.f=setTimeout(()=>this.open(),f)}open(){clearTimeout(this.f),super.open()}}e.$wh=O;function I(M,f){return f?new Promise((L,D)=>{const Z=setTimeout(()=>{_.dispose(),L()},M),_=f.onCancellationRequested(()=>{clearTimeout(Z),_.dispose(),D(new z.$5)})}):U(L=>I(M,L))}function d(M,f=0,L){const D=setTimeout(()=>{M(),L&&Z.dispose()},f),Z=(0,E.$Tc)(()=>{clearTimeout(D),L?.deleteAndLeak(Z)});return L?.add(Z),Z}function y(M){const f=[];let L=0;const D=M.length;function Z(){return L<D?M[L++]():null}function _(ae){ae!=null&&f.push(ae);const fe=Z();return fe?fe.then(_):Promise.resolve(f)}return Promise.resolve(null).then(_)}function K(M,f=D=>!!D,L=null){let D=0;const Z=M.length,_=()=>{if(D>=Z)return Promise.resolve(L);const ae=M[D++];return Promise.resolve(ae()).then(de=>f(de)?Promise.resolve(de):_())};return _()}function A(M,f=D=>!!D,L=null){if(M.length===0)return Promise.resolve(L);let D=M.length;const Z=()=>{D=-1;for(const _ of M)_.cancel?.()};return new Promise((_,ae)=>{for(const fe of M)fe.then(de=>{--D>=0&&f(de)?(Z(),_(de)):D===0&&_(L)}).catch(de=>{--D>=0&&(Z(),ae(de))})})}class p{constructor(f){this.a=0,this.b=!1,this.f=f,this.g=[],this.d=0,this.h=new G.$ee}whenIdle(){return this.size>0?G.Event.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this.h.event}get size(){return this.a}queue(f){if(this.b)throw new Error("Object has been disposed");return this.a++,new Promise((L,D)=>{this.g.push({factory:f,c:L,e:D}),this.j()})}j(){for(;this.g.length&&this.d<this.f;){const f=this.g.shift();this.d++;const L=f.factory();L.then(f.c,f.e),L.then(()=>this.k(),()=>this.k())}}k(){this.b||(this.d--,--this.a===0&&this.h.fire(),this.g.length>0&&this.j())}clear(){if(this.b)throw new Error("Object has been disposed");this.g.length=0,this.a=this.d}dispose(){this.b=!0,this.g.length=0,this.a=0,this.h.dispose()}}e.$Ch=p;class q extends p{constructor(){super(1)}}e.$Dh=q;class x{constructor(){this.a=new X,this.b=0}queue(f){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,f())):this.a.run(this.b++,f())}}e.$Eh=x;class ie{constructor(){this.a=new Map,this.b=new Set,this.d=void 0,this.f=0}async whenDrained(){if(this.g())return;const f=new te;return this.b.add(f),f.p}g(){for(const[,f]of this.a)if(f.size>0)return!1;return!0}queueSize(f,L=B.$Zg){const D=L.getComparisonKey(f);return this.a.get(D)?.size??0}queueFor(f,L,D=B.$Zg){const Z=D.getComparisonKey(f);let _=this.a.get(Z);if(!_){_=new q;const ae=this.f++,fe=G.Event.once(_.onDrained)(()=>{_?.dispose(),this.a.delete(Z),this.h(),this.d?.deleteAndDispose(ae),this.d?.size===0&&(this.d.dispose(),this.d=void 0)});this.d||(this.d=new E.$5c),this.d.set(ae,fe),this.a.set(Z,_)}return _.queue(L)}h(){this.g()&&this.j()}j(){for(const f of this.b)f.complete();this.b.clear()}dispose(){for(const[,f]of this.a)f.dispose();this.a.clear(),this.j(),this.d?.dispose()}}e.$Fh=ie;class le{constructor(f,L){this.a=-1,typeof f=="function"&&typeof L=="number"&&this.setIfNotSet(f,L)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(f,L){this.cancel(),this.a=setTimeout(()=>{this.a=-1,f()},L)}setIfNotSet(f,L){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,f()},L))}}e.$Gh=le;class re{constructor(){this.d=void 0}cancel(){this.d?.dispose(),this.d=void 0}cancelAndSet(f,L,D=globalThis){this.cancel();const Z=D.setInterval(()=>{f()},L);this.d=(0,E.$Tc)(()=>{D.clearInterval(Z),this.d=void 0})}dispose(){this.cancel()}}e.$Hh=re;class ne{constructor(f,L){this.b=-1,this.a=f,this.d=L,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(f=this.d){this.cancel(),this.b=setTimeout(this.f,f)}get delay(){return this.d}set delay(f){this.d=f}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.$Ih=ne;class oe{constructor(f,L){L%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${L}ms is not a multiple of 1000ms.`),this.a=f,this.b=L,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(f=this.b){f%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${f}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(f/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.$Jh=oe;class w extends ne{constructor(f,L){super(f,L),this.j=[]}work(f){this.j.push(f),this.isScheduled()||this.schedule()}h(){const f=this.j;this.j=[],this.a?.(f)}dispose(){this.j=[],super.dispose()}}e.$Kh=w;class ee extends E.$Vc{constructor(f,L){super(),this.g=f,this.h=L,this.a=[],this.b=this.B(new E.$Wc),this.f=!1}get pending(){return this.a.length}work(f){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+f.length>this.g.maxBufferedWork)return!1}else if(this.pending+f.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const L of f)this.a.push(L);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new ne(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.$Lh=ee,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e.$Nh=(M,f)=>{(0,V.$B)(()=>{if(L)return;const D=Date.now()+15;f(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,D-Date.now())}}))});let L=!1;return{dispose(){L||(L=!0)}}}:e.$Nh=(M,f,L)=>{const D=M.requestIdleCallback(f,typeof L=="number"?{timeout:L}:void 0);let Z=!1;return{dispose(){Z||(Z=!0,M.cancelIdleCallback(D))}}},e.$Mh=M=>(0,e.$Nh)(globalThis,M)}();class F{constructor(f,L){this.g=!1,this.d=()=>{try{this.j=L()}catch(D){this.l=D}finally{this.g=!0}},this.f=(0,e.$Nh)(f,()=>this.d())}dispose(){this.f.dispose()}get value(){if(this.g||(this.f.dispose(),this.d()),this.l)throw this.l;return this.j}get isInitialized(){return this.g}}e.$Oh=F;class W extends F{constructor(f){super(globalThis,f)}}e.$Ph=W;async function R(M,f,L){let D;for(let Z=0;Z<L;Z++)try{return await M()}catch(_){D=_,await I(f)}throw D}class X{isRunning(f){return typeof f=="number"?this.a?.taskId===f:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(f,L,D){return this.a={taskId:f,cancel:()=>D?.(),promise:L},L.then(()=>this.d(f),()=>this.d(f)),L}d(f){this.a&&f===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const f=this.b;this.b=void 0,f.run().then(f.promiseResolve,f.promiseReject)}}queue(f){if(this.b)this.b.run=f;else{const{promise:L,resolve:D,reject:Z}=u();this.b={run:f,promise:L,promiseResolve:D,promiseReject:Z}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.$Rh=X;class H{constructor(f,L=()=>Date.now()){this.d=f,this.f=L,this.a=0,this.b=0}increment(){const f=this.f();return f-this.a>this.d&&(this.a=f,this.b=0),this.b++,this.b}}e.$Sh=H;var Y;(function(M){M[M.Resolved=0]="Resolved",M[M.Rejected=1]="Rejected"})(Y||(Y={}));class te{get isRejected(){return this.d?.outcome===1}get isResolved(){return this.d?.outcome===0}get isSettled(){return!!this.d}get value(){return this.d?.outcome===0?this.d?.value:void 0}constructor(){this.p=new Promise((f,L)=>{this.a=f,this.b=L})}complete(f){return new Promise(L=>{this.a(f),this.d={outcome:0,value:f},L()})}error(f){return new Promise(L=>{this.b(f),this.d={outcome:1,value:f},L()})}cancel(){return this.error(new z.$5)}}e.$Th=te;var Q;(function(M){async function f(D){let Z;const _=await Promise.all(D.map(ae=>ae.then(fe=>fe,fe=>{Z||(Z=fe)})));if(typeof Z<"u")throw Z;return _}M.settled=f;function L(D){return new Promise(async(Z,_)=>{try{await D(Z,_)}catch(ae){_(ae)}})}M.withAsyncBody=L})(Q||(e.Promises=Q={}));class N{get value(){return this.a}get error(){return this.b}get isResolved(){return this.d}constructor(f){this.a=void 0,this.b=void 0,this.d=!1,this.promise=f.then(L=>(this.a=L,this.d=!0,L),L=>{throw this.b=L,this.d=!0,L})}requireValue(){if(!this.d)throw new z.$cb("Promise is not resolved yet");if(this.b)throw this.b;return this.a}}e.$Uh=N;class i{constructor(f){this.b=f,this.a=new m.$V(()=>new N(this.b()))}requireValue(){return this.a.value.requireValue()}getPromise(){return this.a.value.promise}get currentValue(){return this.a.rawValue?.value}}e.$Vh=i;var a;(function(M){M[M.Initial=0]="Initial",M[M.DoneOK=1]="DoneOK",M[M.DoneError=2]="DoneError"})(a||(a={}));class S{static fromArray(f){return new S(L=>{L.emitMany(f)})}static fromPromise(f){return new S(async L=>{L.emitMany(await f)})}static fromPromises(f){return new S(async L=>{await Promise.all(f.map(async D=>L.emitOne(await D)))})}static merge(f){return new S(async L=>{await Promise.all(f.map(async D=>{for await(const Z of D)L.emitOne(Z)}))})}static{this.EMPTY=S.fromArray([])}constructor(f,L){this.a=0,this.b=[],this.d=null,this.f=L,this.g=new G.$ee,queueMicrotask(async()=>{const D={emitOne:Z=>this.h(Z),emitMany:Z=>this.j(Z),reject:Z=>this.l(Z)};try{await Promise.resolve(f(D)),this.k()}catch(Z){this.l(Z)}finally{D.emitOne=void 0,D.emitMany=void 0,D.reject=void 0}})}[Symbol.asyncIterator](){let f=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(f<this.b.length)return{done:!1,value:this.b[f++]};if(this.a===1)return{done:!0,value:void 0};await G.Event.toPromise(this.g.event)}while(!0)},return:async()=>(this.f?.(),{done:!0,value:void 0})}}static map(f,L){return new S(async D=>{for await(const Z of f)D.emitOne(L(Z))})}map(f){return S.map(this,f)}static filter(f,L){return new S(async D=>{for await(const Z of f)L(Z)&&D.emitOne(Z)})}filter(f){return S.filter(this,f)}static coalesce(f){return S.filter(f,L=>!!L)}coalesce(){return S.coalesce(this)}static async toPromise(f){const L=[];for await(const D of f)L.push(D);return L}toPromise(){return S.toPromise(this)}h(f){this.a===0&&(this.b.push(f),this.g.fire())}j(f){this.a===0&&(this.b=this.b.concat(f),this.g.fire())}k(){this.a===0&&(this.a=1,this.g.fire())}l(f){this.a===0&&(this.a=2,this.d=f,this.g.fire())}}e.$Wh=S;class j extends S{constructor(f,L){super(L),this.m=f}cancel(){this.m.cancel()}}e.$Xh=j;function se(M){const f=new T.$pe,L=M(f.token);return new j(f,async D=>{const Z=f.token.onCancellationRequested(()=>{Z.dispose(),f.dispose(),D.reject(new z.$5)});try{for await(const _ of L){if(f.token.isCancellationRequested)return;D.emitOne(_)}Z.dispose(),f.dispose()}catch(_){Z.dispose(),f.dispose(),D.reject(_)}})}class J{constructor(f){this.a=new te,this.b=new S(Z=>{if(L){Z.reject(L);return}return D&&Z.emitMany(D),this.d=_=>Z.reject(_),this.f=_=>Z.emitOne(_),this.a.p},f);let L,D;this.f=Z=>{D||(D=[]),D.push(Z)},this.d=Z=>{L||(L=Z)}}get asyncIterable(){return this.b}resolve(){this.a.complete()}reject(f){this.d(f),this.a.complete()}emitOne(f){this.f(f)}}e.$Zh=J}),define(ue[25],ce([0,1,44,23,11,26,4,2,3]),function(he,e,T,z,G,E,B,V,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$nk=e.$mk=void 0,e.$lk=m,e.$ok=c,e.$pk=q,e.$qk=x,e.$rk=ie,e.$sk=le,e.$tk=re,e.$uk=ee;function m(){return Object.create(null)}e.$mk="**",e.$nk="/";const b="[/\\\\]",U="[^/\\\\]",g=/\//g;function k(F,W){switch(F){case 0:return"";case 1:return`${U}*?`;default:return`(?:${b}|${U}+${b}${W?`|${b}${U}+`:""})*?`}}function c(F,W){if(!F)return[];const R=[];let X=!1,H=!1,Y="";for(const te of F){switch(te){case W:if(!X&&!H){R.push(Y),Y="";continue}break;case"{":X=!0;break;case"}":X=!1;break;case"[":H=!0;break;case"]":H=!1;break}Y+=te}return Y&&R.push(Y),R}function o(F){if(!F)return"";let W="";const R=c(F,e.$nk);if(R.every(X=>X===e.$mk))W=".*";else{let X=!1;R.forEach((H,Y)=>{if(H===e.$mk){if(X)return;W+=k(2,Y===R.length-1)}else{let te=!1,Q="",N=!1,i="";for(const a of H){if(a!=="}"&&te){Q+=a;continue}if(N&&(a!=="]"||!i)){let S;a==="-"?S=a:(a==="^"||a==="!")&&!i?S="^":a===e.$nk?S="":S=(0,C.$af)(a),i+=S;continue}switch(a){case"{":te=!0;continue;case"[":N=!0;continue;case"}":{const j=`(?:${c(Q,",").map(se=>o(se)).join("|")})`;W+=j,te=!1,Q="";break}case"]":{W+="["+i+"]",N=!1,i="";break}case"?":W+=U;continue;case"*":W+=k(1);continue;default:W+=(0,C.$af)(a)}}Y<R.length-1&&(R[Y+1]!==e.$mk||Y+2<R.length)&&(W+=b)}X=H===e.$mk})}return W}const r=/^\*\*\/\*\.[\w\.-]+$/,u=/^\*\*\/([\w\.-]+)\/?$/,t=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,s=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,n=/^\*\*((\/[\w\.-]+)+)\/?$/,l=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,h=new E.$Ec(1e4),$=function(){return!1},v=function(){return null};function P(F,W){if(!F)return v;let R;typeof F!="string"?R=F.pattern:R=F,R=R.trim();const X=`${R}_${!!W.trimForExclusions}`;let H=h.get(X);if(H)return O(H,F);let Y;return r.test(R)?H=d(R.substr(4),R):(Y=u.exec(I(R,W)))?H=y(Y[1],R):(W.trimForExclusions?s:t).test(R)?H=K(R,W):(Y=n.exec(I(R,W)))?H=A(Y[1].substr(1),R,!0):(Y=l.exec(I(R,W)))?H=A(Y[1],R,!1):H=p(R),h.set(X,H),O(H,F)}function O(F,W){if(typeof W=="string")return F;const R=function(X,H){return(0,G.$vg)(X,W.base,!V.$k)?F((0,C.$ff)(X.substr(W.base.length),B.sep),H):null};return R.allBasenames=F.allBasenames,R.allPaths=F.allPaths,R.basenames=F.basenames,R.patterns=F.patterns,R}function I(F,W){return W.trimForExclusions&&F.endsWith("/**")?F.substr(0,F.length-2):F}function d(F,W){return function(R,X){return typeof R=="string"&&R.endsWith(F)?W:null}}function y(F,W){const R=`/${F}`,X=`\\${F}`,H=function(te,Q){return typeof te!="string"?null:Q?Q===F?W:null:te===F||te.endsWith(R)||te.endsWith(X)?W:null},Y=[F];return H.basenames=Y,H.patterns=[W],H.allBasenames=Y,H}function K(F,W){const R=w(F.slice(1,-1).split(",").map(Q=>P(Q,W)).filter(Q=>Q!==v),F),X=R.length;if(!X)return v;if(X===1)return R[0];const H=function(Q,N){for(let i=0,a=R.length;i<a;i++)if(R[i](Q,N))return F;return null},Y=R.find(Q=>!!Q.allBasenames);Y&&(H.allBasenames=Y.allBasenames);const te=R.reduce((Q,N)=>N.allPaths?Q.concat(N.allPaths):Q,[]);return te.length&&(H.allPaths=te),H}function A(F,W,R){const X=B.sep===B.$hc.sep,H=X?F:F.replace(g,B.sep),Y=B.sep+H,te=B.$hc.sep+F;let Q;return R?Q=function(N,i){return typeof N=="string"&&(N===H||N.endsWith(Y)||!X&&(N===F||N.endsWith(te)))?W:null}:Q=function(N,i){return typeof N=="string"&&(N===H||!X&&N===F)?W:null},Q.allPaths=[(R?"*/":"./")+F],Q}function p(F){try{const W=new RegExp(`^${o(F)}$`);return function(R){return W.lastIndex=0,typeof R=="string"&&W.test(R)?F:null}}catch{return v}}function q(F,W,R){return!F||typeof W!="string"?!1:x(F)(W,void 0,R)}function x(F,W={}){if(!F)return $;if(typeof F=="string"||ie(F)){const R=P(F,W);if(R===v)return $;const X=function(H,Y){return!!R(H,Y)};return R.allBasenames&&(X.allBasenames=R.allBasenames),R.allPaths&&(X.allPaths=R.allPaths),X}return ne(F,W)}function ie(F){const W=F;return W?typeof W.base=="string"&&typeof W.pattern=="string":!1}function le(F){return F.allBasenames||[]}function re(F){return F.allPaths||[]}function ne(F,W){const R=w(Object.getOwnPropertyNames(F).map(Q=>oe(Q,F[Q],W)).filter(Q=>Q!==v)),X=R.length;if(!X)return v;if(!R.some(Q=>!!Q.requiresSiblings)){if(X===1)return R[0];const Q=function(a,S){let j;for(let se=0,J=R.length;se<J;se++){const M=R[se](a,S);if(typeof M=="string")return M;(0,z.$ih)(M)&&(j||(j=[]),j.push(M))}return j?(async()=>{for(const se of j){const J=await se;if(typeof J=="string")return J}return null})():null},N=R.find(a=>!!a.allBasenames);N&&(Q.allBasenames=N.allBasenames);const i=R.reduce((a,S)=>S.allPaths?a.concat(S.allPaths):a,[]);return i.length&&(Q.allPaths=i),Q}const H=function(Q,N,i){let a,S;for(let j=0,se=R.length;j<se;j++){const J=R[j];J.requiresSiblings&&i&&(N||(N=(0,B.$oc)(Q)),a||(a=N.substr(0,N.length-(0,B.$pc)(Q).length)));const M=J(Q,N,a,i);if(typeof M=="string")return M;(0,z.$ih)(M)&&(S||(S=[]),S.push(M))}return S?(async()=>{for(const j of S){const se=await j;if(typeof se=="string")return se}return null})():null},Y=R.find(Q=>!!Q.allBasenames);Y&&(H.allBasenames=Y.allBasenames);const te=R.reduce((Q,N)=>N.allPaths?Q.concat(N.allPaths):Q,[]);return te.length&&(H.allPaths=te),H}function oe(F,W,R){if(W===!1)return v;const X=P(F,R);if(X===v)return v;if(typeof W=="boolean")return X;if(W){const H=W.when;if(typeof H=="string"){const Y=(te,Q,N,i)=>{if(!i||!X(te,Q))return null;const a=H.replace("$(basename)",()=>N),S=i(a);return(0,z.$ih)(S)?S.then(j=>j?F:null):S?F:null};return Y.requiresSiblings=!0,Y}}return X}function w(F,W){const R=F.filter(Q=>!!Q.basenames);if(R.length<2)return F;const X=R.reduce((Q,N)=>{const i=N.basenames;return i?Q.concat(i):Q},[]);let H;if(W){H=[];for(let Q=0,N=X.length;Q<N;Q++)H.push(W)}else H=R.reduce((Q,N)=>{const i=N.patterns;return i?Q.concat(i):Q},[]);const Y=function(Q,N){if(typeof Q!="string")return null;if(!N){let a;for(a=Q.length;a>0;a--){const S=Q.charCodeAt(a-1);if(S===47||S===92)break}N=Q.substr(a)}const i=X.indexOf(N);return i!==-1?H[i]:null};Y.basenames=X,Y.patterns=H,Y.allBasenames=X;const te=F.filter(Q=>!Q.basenames);return te.push(Y),te}function ee(F,W){return(0,T.$ub)(F,W,(R,X)=>typeof R=="string"&&typeof X=="string"?R===X:typeof R!="string"&&typeof X!="string"?R.base===X.base&&R.pattern===X.pattern:!1)}}),define(ue[27],ce([0,1,3,2,6]),function(he,e,T,z,G){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ft=void 0,e.$Dt=b,e.$Et=U;let E;function B(){return E||(E=new TextDecoder("UTF-16LE")),E}let V;function C(){return V||(V=new TextDecoder("UTF-16BE")),V}let m;function b(){return m||(m=z.$D()?B():C()),m}function U(c,o,r){const u=new Uint16Array(c.buffer,o,r);return r>0&&(u[0]===65279||u[0]===65534)?g(c,o,r):B().decode(u)}function g(c,o,r){const u=[];let t=0;for(let s=0;s<r;s++){const n=G.$Ie(c,o);o+=2,u[t++]=String.fromCharCode(n)}return u.join("")}class k{constructor(o){this.a=o|0,this.b=new Uint16Array(this.a),this.c=null,this.d=0}reset(){this.c=null,this.d=0}build(){return this.c!==null?(this.f(),this.c.join("")):this.e()}e(){if(this.d===0)return"";const o=new Uint16Array(this.b.buffer,0,this.d);return b().decode(o)}f(){const o=this.e();this.d=0,this.c===null?this.c=[o]:this.c[this.c.length]=o}appendCharCode(o){const r=this.a-this.d;r<=1&&(r===0||T.$Cf(o))&&this.f(),this.b[this.d++]=o}appendASCIICharCode(o){this.d===this.a&&this.f(),this.b[this.d++]=o}appendString(o){const r=o.length;if(this.d+r>=this.a){this.f(),this.c[this.c.length]=o;return}for(let u=0;u<r;u++)this.b[this.d++]=o.charCodeAt(u)}}e.$Ft=k}),define(ue[28],ce([0,1,6,27]),function(he,e,T,z){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Gt=void 0,e.$Ht=B;function G(C){return C.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class E{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(m,b,U,g){this.oldPosition=m,this.oldText=b,this.newPosition=U,this.newText=g}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${G(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${G(this.oldText)}")`:`(replace@${this.oldPosition} "${G(this.oldText)}" with "${G(this.newText)}")`}static a(m){return 4+2*m.length}static c(m,b,U){const g=b.length;T.$Le(m,g,U),U+=4;for(let k=0;k<g;k++)T.$Je(m,b.charCodeAt(k),U),U+=2;return U}static d(m,b){const U=T.$Ke(m,b);return b+=4,(0,z.$Et)(m,b,U)}writeSize(){return 8+E.a(this.oldText)+E.a(this.newText)}write(m,b){return T.$Le(m,this.oldPosition,b),b+=4,T.$Le(m,this.newPosition,b),b+=4,b=E.c(m,this.oldText,b),b=E.c(m,this.newText,b),b}static read(m,b,U){const g=T.$Ke(m,b);b+=4;const k=T.$Ke(m,b);b+=4;const c=E.d(m,b);b+=E.a(c);const o=E.d(m,b);return b+=E.a(o),U.push(new E(g,c,k,o)),b}}e.$Gt=E;function B(C,m){return C===null||C.length===0?m:new V(C,m).compress()}class V{constructor(m,b){this.a=m,this.c=b,this.d=[],this.e=0,this.f=this.a.length,this.g=0,this.h=this.c.length,this.j=0}compress(){let m=0,b=0,U=this.n(m),g=this.l(b);for(;m<this.f||b<this.h;){if(U===null){this.k(g),g=this.l(++b);continue}if(g===null){this.m(U),U=this.n(++m);continue}if(g.oldEnd<=U.newPosition){this.k(g),g=this.l(++b);continue}if(U.newEnd<=g.oldPosition){this.m(U),U=this.n(++m);continue}if(g.oldPosition<U.newPosition){const[u,t]=V.r(g,U.newPosition-g.oldPosition);this.k(u),g=t;continue}if(U.newPosition<g.oldPosition){const[u,t]=V.q(U,g.oldPosition-U.newPosition);this.m(u),U=t;continue}let o,r;if(g.oldEnd===U.newEnd)o=U,r=g,U=this.n(++m),g=this.l(++b);else if(g.oldEnd<U.newEnd){const[u,t]=V.q(U,g.oldLength);o=u,r=g,U=t,g=this.l(++b)}else{const[u,t]=V.r(g,U.newLength);o=U,r=u,U=this.n(++m),g=t}this.d[this.e++]=new E(o.oldPosition,o.oldText,r.newPosition,r.newText),this.g+=o.newLength-o.oldLength,this.j+=r.newLength-r.oldLength}const k=V.s(this.d);return V.t(k)}k(m){this.d[this.e++]=V.o(this.g,m),this.j+=m.newLength-m.oldLength}l(m){return m<this.h?this.c[m]:null}m(m){this.d[this.e++]=V.p(this.j,m),this.g+=m.newLength-m.oldLength}n(m){return m<this.f?this.a[m]:null}static o(m,b){return new E(b.oldPosition-m,b.oldText,b.newPosition,b.newText)}static p(m,b){return new E(b.oldPosition,b.oldText,b.newPosition+m,b.newText)}static q(m,b){const U=m.newText.substr(0,b),g=m.newText.substr(b);return[new E(m.oldPosition,m.oldText,m.newPosition,U),new E(m.oldEnd,"",m.newPosition+b,g)]}static r(m,b){const U=m.oldText.substr(0,b),g=m.oldText.substr(b);return[new E(m.oldPosition,U,m.newPosition,m.newText),new E(m.oldPosition+b,g,m.newEnd,"")]}static s(m){if(m.length===0)return m;const b=[];let U=0,g=m[0];for(let k=1;k<m.length;k++){const c=m[k];g.oldEnd===c.oldPosition?g=new E(g.oldPosition,g.oldText+c.oldText,g.newPosition,g.newText+c.newText):(b[U++]=g,g=c)}return b[U++]=g,b}static t(m){if(m.length===0)return m;const b=[];let U=0;for(let g=0;g<m.length;g++){const k=m[g];k.oldText!==k.newText&&(b[U++]=k)}return b}}}),define(ue[29],ce([0,1,24,3,10,19,9,17,28,8]),function(he,e,T,z,G,E,B,V,C,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$1C=void 0;class b extends m.$Vc{constructor(g,k,c,o,r,u,t){super(),this.m=this.B(new T.$ee),this.onDidChangeContent=this.m.event,this.f=k,this.j=!u,this.g=o,this.h=r,this.c=new B.$ZC(g,c,t)}equals(g){return!(g instanceof b)||this.f!==g.f||this.getEOL()!==g.getEOL()?!1:this.c.equal(g.c)}mightContainRTL(){return this.g}mightContainUnusualLineTerminators(){return this.h}resetMightContainUnusualLineTerminators(){this.h=!1}mightContainNonBasicASCII(){return this.j}getBOM(){return this.f}getEOL(){return this.c.getEOL()}createSnapshot(g){return this.c.createSnapshot(g?this.f:"")}getOffsetAt(g,k){return this.c.getOffsetAt(g,k)}getPositionAt(g){return this.c.getPositionAt(g)}getRangeAt(g,k){const c=g+k,o=this.getPositionAt(g),r=this.getPositionAt(c);return new G.$ut(o.lineNumber,o.column,r.lineNumber,r.column)}getValueInRange(g,k=0){if(g.isEmpty())return"";const c=this.n(k);return this.c.getValueInRange(g,c)}getValueLengthInRange(g,k=0){if(g.isEmpty())return 0;if(g.startLineNumber===g.endLineNumber)return g.endColumn-g.startColumn;const c=this.getOffsetAt(g.startLineNumber,g.startColumn),o=this.getOffsetAt(g.endLineNumber,g.endColumn);let r=0;const u=this.n(k),t=this.getEOL();if(u.length!==t.length){const s=u.length-t.length,n=g.endLineNumber-g.startLineNumber;r=s*n}return o-c+r}getCharacterCountInRange(g,k=0){if(this.j){let c=0;const o=g.startLineNumber,r=g.endLineNumber;for(let u=o;u<=r;u++){const t=this.getLineContent(u),s=u===o?g.startColumn-1:0,n=u===r?g.endColumn-1:t.length;for(let l=s;l<n;l++)z.$Cf(t.charCodeAt(l))?(c=c+1,l=l+1):c=c+1}return c+=this.n(k).length*(r-o),c}return this.getValueLengthInRange(g,k)}getLength(){return this.c.getLength()}getLineCount(){return this.c.getLineCount()}getLinesContent(){return this.c.getLinesContent()}getLineContent(g){return this.c.getLineContent(g)}getLineCharCode(g,k){return this.c.getLineCharCode(g,k)}getCharCode(g){return this.c.getCharCode(g)}getLineLength(g){return this.c.getLineLength(g)}getLineMinColumn(g){return 1}getLineMaxColumn(g){return this.getLineLength(g)+1}getLineFirstNonWhitespaceColumn(g){const k=z.$nf(this.getLineContent(g));return k===-1?0:k+1}getLineLastNonWhitespaceColumn(g){const k=z.$pf(this.getLineContent(g));return k===-1?0:k+2}n(g){switch(g){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(g){this.c.setEOL(g)}applyEdits(g,k,c){let o=this.g,r=this.h,u=this.j,t=!0,s=[];for(let O=0;O<g.length;O++){const I=g[O];t&&I._isTracked&&(t=!1);const d=I.range;if(I.text){let q=!0;u||(q=!z.$Nf(I.text),u=q),!o&&q&&(o=z.$Mf(I.text)),!r&&q&&(r=z.$Pf(I.text))}let y="",K=0,A=0,p=0;if(I.text){let q;[K,A,p,q]=(0,V.$1t)(I.text);const x=this.getEOL();q===0||q===(x===`\r
`?2:1)?y=I.text:y=I.text.replace(/\r\n|\r|\n/g,x)}s[O]={sortIndex:O,identifier:I.identifier||null,range:d,rangeOffset:this.getOffsetAt(d.startLineNumber,d.startColumn),rangeLength:this.getValueLengthInRange(d),text:y,eolCount:K,firstLineLength:A,lastLineLength:p,forceMoveMarkers:!!I.forceMoveMarkers,isAutoWhitespaceEdit:I.isAutoWhitespaceEdit||!1}}s.sort(b.u);let n=!1;for(let O=0,I=s.length-1;O<I;O++){const d=s[O].range.getEndPosition(),y=s[O+1].range.getStartPosition();if(y.isBeforeOrEqual(d)){if(y.isBefore(d))throw new Error("Overlapping ranges are not allowed!");n=!0}}t&&(s=this.s(s));const l=c||k?b._getInverseEditRanges(s):[],h=[];if(k)for(let O=0;O<s.length;O++){const I=s[O],d=l[O];if(I.isAutoWhitespaceEdit&&I.range.isEmpty())for(let y=d.startLineNumber;y<=d.endLineNumber;y++){let K="";y===d.startLineNumber&&(K=this.getLineContent(I.range.startLineNumber),z.$nf(K)!==-1)||h.push({lineNumber:y,oldContent:K})}}let $=null;if(c){let O=0;$=[];for(let I=0;I<s.length;I++){const d=s[I],y=l[I],K=this.getValueInRange(d.range),A=d.rangeOffset+O;O+=d.text.length-K.length,$[I]={sortIndex:d.sortIndex,identifier:d.identifier,range:y,text:K,textChange:new C.$Gt(d.rangeOffset,K,A,d.text)}}n||$.sort((I,d)=>I.sortIndex-d.sortIndex)}this.g=o,this.h=r,this.j=u;const v=this.t(s);let P=null;if(k&&h.length>0){h.sort((O,I)=>I.lineNumber-O.lineNumber),P=[];for(let O=0,I=h.length;O<I;O++){const d=h[O].lineNumber;if(O>0&&h[O-1].lineNumber===d)continue;const y=h[O].oldContent,K=this.getLineContent(d);K.length===0||K===y||z.$nf(K)!==-1||P.push(d)}}return this.m.fire(),new E.$Jv($,v,P)}s(g){return g.length<1e3?g:[this._toSingleEditOperation(g)]}_toSingleEditOperation(g){let k=!1;const c=g[0].range,o=g[g.length-1].range,r=new G.$ut(c.startLineNumber,c.startColumn,o.endLineNumber,o.endColumn);let u=c.startLineNumber,t=c.startColumn;const s=[];for(let v=0,P=g.length;v<P;v++){const O=g[v],I=O.range;k=k||O.forceMoveMarkers,s.push(this.getValueInRange(new G.$ut(u,t,I.startLineNumber,I.startColumn))),O.text.length>0&&s.push(O.text),u=I.endLineNumber,t=I.endColumn}const n=s.join(""),[l,h,$]=(0,V.$1t)(n);return{sortIndex:0,identifier:g[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,0),text:n,eolCount:l,firstLineLength:h,lastLineLength:$,forceMoveMarkers:k,isAutoWhitespaceEdit:!1}}t(g){g.sort(b.w);const k=[];for(let c=0;c<g.length;c++){const o=g[c],r=o.range.startLineNumber,u=o.range.startColumn,t=o.range.endLineNumber,s=o.range.endColumn;if(r===t&&u===s&&o.text.length===0)continue;o.text?(this.c.delete(o.rangeOffset,o.rangeLength),this.c.insert(o.rangeOffset,o.text,!0)):this.c.delete(o.rangeOffset,o.rangeLength);const n=new G.$ut(r,u,t,s);k.push({range:n,rangeLength:o.rangeLength,text:o.text,rangeOffset:o.rangeOffset,forceMoveMarkers:o.forceMoveMarkers})}return k}findMatchesLineByLine(g,k,c,o){return this.c.findMatchesLineByLine(g,k,c,o)}getPieceTree(){return this.c}static _getInverseEditRange(g,k){const c=g.startLineNumber,o=g.startColumn,[r,u,t]=(0,V.$1t)(k);let s;if(k.length>0){const n=r+1;n===1?s=new G.$ut(c,o,c,o+u):s=new G.$ut(c,o,c+n-1,t+1)}else s=new G.$ut(c,o,c,o);return s}static _getInverseEditRanges(g){const k=[];let c=0,o=0,r=null;for(let u=0,t=g.length;u<t;u++){const s=g[u];let n,l;r?r.range.endLineNumber===s.range.startLineNumber?(n=c,l=o+(s.range.startColumn-r.range.endColumn)):(n=c+(s.range.startLineNumber-r.range.endLineNumber),l=s.range.startColumn):(n=s.range.startLineNumber,l=s.range.startColumn);let h;if(s.text.length>0){const $=s.eolCount+1;$===1?h=new G.$ut(n,l,n,l+s.firstLineLength):h=new G.$ut(n,l,n+$-1,s.lastLineLength+1)}else h=new G.$ut(n,l,n,l);c=h.endLineNumber,o=h.endColumn,k.push(h),r=s}return k}static u(g,k){const c=G.$ut.compareRangesUsingEnds(g.range,k.range);return c===0?g.sortIndex-k.sortIndex:c}static w(g,k){const c=G.$ut.compareRangesUsingEnds(g.range,k.range);return c===0?k.sortIndex-g.sortIndex:-c}}e.$1C=b}),define(ue[30],ce([0,1,3,9,29]),function(he,e,T,z,G){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$2C=void 0;class E{constructor(C,m,b,U,g,k,c,o,r){this.a=C,this.b=m,this.c=b,this.d=U,this.e=g,this.f=k,this.g=c,this.h=o,this.j=r}k(C){const m=this.c+this.d+this.e,b=this.c+this.e;return m===0?C===1?`
`:`\r
`:b>m/2?`\r
`:`
`}create(C){const m=this.k(C),b=this.a;if(this.j&&(m===`\r
`&&(this.c>0||this.d>0)||m===`
`&&(this.c>0||this.e>0)))for(let g=0,k=b.length;g<k;g++){const c=b[g].buffer.replace(/\r\n|\r|\n/g,m),o=(0,z.$VC)(c);b[g]=new z.$YC(c,o)}const U=new G.$1C(b,this.b,m,this.f,this.g,this.h,this.j);return{textBuffer:U,disposable:U}}getFirstLineText(C){return this.a[0].buffer.substr(0,C).split(/\r\n|\r|\n/)[0]}}class B{constructor(){this.a=[],this.b="",this.c=!1,this.d=0,this.e=[],this.f=0,this.g=0,this.h=0,this.j=!1,this.k=!1,this.l=!0}acceptChunk(C){if(C.length===0)return;this.a.length===0&&T.$Wf(C)&&(this.b=T.$Vf,C=C.substr(1));const m=C.charCodeAt(C.length-1);m===13||m>=55296&&m<=56319?(this.m(C.substr(0,C.length-1),!1),this.c=!0,this.d=m):(this.m(C,!1),this.c=!1,this.d=m)}m(C,m){!m&&C.length===0||(this.c?this.n(String.fromCharCode(this.d)+C):this.n(C))}n(C){const m=(0,z.$WC)(this.e,C);this.a.push(new z.$YC(C,m.lineStarts)),this.f+=m.cr,this.g+=m.lf,this.h+=m.crlf,m.isBasicASCII||(this.l=!1,this.j||(this.j=T.$Mf(C)),this.k||(this.k=T.$Pf(C)))}finish(C=!0){return this.o(),new E(this.a,this.b,this.f,this.g,this.h,this.j,this.k,this.l,C)}o(){if(this.a.length===0&&this.m("",!0),this.c){this.c=!1;const C=this.a[this.a.length-1];C.buffer+=String.fromCharCode(this.d);const m=(0,z.$VC)(C.buffer);C.lineStarts=m,this.d===13&&this.f++}}}e.$2C=B}),define(ue[31],ce([32,33]),function(he,e){return he.create("vs/platform/contextkey/common/contextkey",e)}),define(ue[34],ce([32,33]),function(he,e){return he.create("vs/platform/contextkey/common/scanner",e)}),define(ue[35],ce([0,1,5,34]),function(he,e,T,z){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$rj=e.TokenType=void 0;var G;(function(m){m[m.LParen=0]="LParen",m[m.RParen=1]="RParen",m[m.Neg=2]="Neg",m[m.Eq=3]="Eq",m[m.NotEq=4]="NotEq",m[m.Lt=5]="Lt",m[m.LtEq=6]="LtEq",m[m.Gt=7]="Gt",m[m.GtEq=8]="GtEq",m[m.RegexOp=9]="RegexOp",m[m.RegexStr=10]="RegexStr",m[m.True=11]="True",m[m.False=12]="False",m[m.In=13]="In",m[m.Not=14]="Not",m[m.And=15]="And",m[m.Or=16]="Or",m[m.Str=17]="Str",m[m.QuotedStr=18]="QuotedStr",m[m.Error=19]="Error",m[m.EOF=20]="EOF"})(G||(e.TokenType=G={}));function E(...m){switch(m.length){case 1:return(0,z.localize)(0,null,m[0]);case 2:return(0,z.localize)(1,null,m[0],m[1]);case 3:return(0,z.localize)(2,null,m[0],m[1],m[2]);default:return}}const B=(0,z.localize)(3,null),V=(0,z.localize)(4,null);class C{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(b){switch(b.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return b.isTripleEq?"===":"==";case 4:return b.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return b.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return b.lexeme;case 18:return b.lexeme;case 19:return b.lexeme;case 20:return"EOF";default:throw(0,T.$8)(`unhandled token type: ${JSON.stringify(b)}; have you forgotten to add a case?`)}}static{this.a=new Set(["i","g","s","m","y","u"].map(b=>b.charCodeAt(0)))}static{this.b=new Map([["not",14],["in",13],["false",12],["true",11]])}get errors(){return this.g}reset(b){return this.c=b,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case 40:this.k(0);break;case 41:this.k(1);break;case 33:if(this.h(61)){const U=this.h(61);this.f.push({type:4,offset:this.d,isTripleEq:U})}else this.k(2);break;case 39:this.o();break;case 47:this.q();break;case 61:if(this.h(61)){const U=this.h(61);this.f.push({type:3,offset:this.d,isTripleEq:U})}else this.h(126)?this.k(9):this.l(E("==","=~"));break;case 60:this.k(this.h(61)?6:5);break;case 62:this.k(this.h(61)?8:7);break;case 38:this.h(38)?this.k(15):this.l(E("&&"));break;case 124:this.h(124)?this.k(16):this.l(E("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this.n()}return this.d=this.e,this.k(20),Array.from(this.f)}h(b){return this.r()||this.c.charCodeAt(this.e)!==b?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?0:this.c.charCodeAt(this.e)}k(b){this.f.push({type:b,offset:this.d})}l(b){const U=this.d,g=this.c.substring(this.d,this.e),k={type:19,offset:this.d,lexeme:g};this.g.push({offset:U,lexeme:g,additionalInfo:b}),this.f.push(k)}n(){this.m.lastIndex=this.d;const b=this.m.exec(this.c);if(b){this.e=this.d+b[0].length;const U=this.c.substring(this.d,this.e),g=C.b.get(U);g?this.k(g):this.f.push({type:17,lexeme:U,offset:this.d})}}o(){for(;this.j()!==39&&!this.r();)this.i();if(this.r()){this.l(B);return}this.i(),this.f.push({type:18,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let b=this.e,U=!1,g=!1;for(;;){if(b>=this.c.length){this.e=b,this.l(V);return}const c=this.c.charCodeAt(b);if(U)U=!1;else if(c===47&&!g){b++;break}else c===91?g=!0:c===92?U=!0:c===93&&(g=!1);b++}for(;b<this.c.length&&C.a.has(this.c.charCodeAt(b));)b++;this.e=b;const k=this.c.substring(this.d,this.e);this.f.push({type:10,lexeme:k,offset:this.d})}r(){return this.e>=this.c.length}}e.$rj=C}),define(ue[36],ce([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ti=void 0;class T{constructor(G,E=[],B=!1){this.ctor=G,this.staticArguments=E,this.supportsDelayedInstantiation=B}}e.$ti=T}),define(ue[37],ce([0,1,36]),function(he,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationType=void 0,e.$xs=E,e.$ys=B;const z=[];var G;(function(V){V[V.Eager=0]="Eager",V[V.Delayed=1]="Delayed"})(G||(e.InstantiationType=G={}));function E(V,C,m){C instanceof T.$ti||(C=new T.$ti(C,[],!!m)),z.push([V,C])}function B(){return z}}),define(ue[13],ce([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$vi=e._util=void 0,e.$wi=G,e.$xi=E;var T;(function(B){B.serviceIds=new Map,B.DI_TARGET="$di$target",B.DI_DEPENDENCIES="$di$dependencies";function V(C){return C[B.DI_DEPENDENCIES]||[]}B.getServiceDependencies=V})(T||(e._util=T={})),e.$vi=G("instantiationService");function z(B,V,C){V[T.DI_TARGET]===V?V[T.DI_DEPENDENCIES].push({id:B,index:C}):(V[T.DI_DEPENDENCIES]=[{id:B,index:C}],V[T.DI_TARGET]=V)}function G(B){if(T.serviceIds.has(B))return T.serviceIds.get(B);const V=function(C,m,b){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");z(V,C,b)};return V.toString=()=>B,T.serviceIds.set(B,V),V}function E(B){return B}}),define(ue[38],ce([0,1,2,3,35,13,31,5]),function(he,e,T,z,G,E,B,V){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Oj=e.$Nj=e.$Mj=e.$Lj=e.$Kj=e.$Jj=e.$Ij=e.$Hj=e.$Gj=e.$Fj=e.$Ej=e.$Dj=e.$Cj=e.$Bj=e.$Aj=e.$zj=e.$yj=e.$xj=e.$uj=e.$tj=e.ContextKeyExprType=void 0,e.$sj=m,e.$vj=$,e.$wj=v,e.$Pj=Y;const C=new Map;C.set("false",!1),C.set("true",!0),C.set("isMac",T.$j),C.set("isLinux",T.$k),C.set("isWindows",T.$i),C.set("isWeb",T.$o),C.set("isMacNative",T.$j&&!T.$o),C.set("isEdge",T.$H),C.set("isFirefox",T.$F),C.set("isChrome",T.$E),C.set("isSafari",T.$G);function m(N,i){if(C.get(N)!==void 0)throw(0,V.$7)("contextkey.setConstant(k, v) invoked with already set constant `k`");C.set(N,i)}const b=Object.prototype.hasOwnProperty;var U;(function(N){N[N.False=0]="False",N[N.True=1]="True",N[N.Defined=2]="Defined",N[N.Not=3]="Not",N[N.Equals=4]="Equals",N[N.NotEquals=5]="NotEquals",N[N.And=6]="And",N[N.Regex=7]="Regex",N[N.NotRegex=8]="NotRegex",N[N.Or=9]="Or",N[N.In=10]="In",N[N.NotIn=11]="NotIn",N[N.Greater=12]="Greater",N[N.GreaterEquals=13]="GreaterEquals",N[N.Smaller=14]="Smaller",N[N.SmallerEquals=15]="SmallerEquals"})(U||(e.ContextKeyExprType=U={}));const g={regexParsingWithErrorRecovery:!0},k=(0,B.localize)(0,null),c=(0,B.localize)(1,null),o=(0,B.localize)(2,null),r=(0,B.localize)(3,null),u=(0,B.localize)(4,null),t=(0,B.localize)(5,null),s=(0,B.localize)(6,null),n=(0,B.localize)(7,null);class l{static{this.c=new Error}get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(i=g){this.k=i,this.d=new G.$rj,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(i){if(i===""){this.h.push({message:k,offset:0,lexeme:"",additionalInfo:c});return}this.f=this.d.reset(i).scan(),this.g=0,this.h=[];try{const a=this.l();if(!this.E()){const S=this.D(),j=S.type===17?t:void 0;throw this.h.push({message:u,offset:S.offset,lexeme:G.$rj.getLexeme(S),additionalInfo:j}),l.c}return a}catch(a){if(a!==l.c)throw a;return}}l(){return this.m()}m(){const i=[this.o()];for(;this.y(16);){const a=this.o();i.push(a)}return i.length===1?i[0]:h.or(...i)}o(){const i=[this.s()];for(;this.y(15);){const a=this.s();i.push(a)}return i.length===1?i[0]:h.and(...i)}s(){if(this.y(2)){const i=this.D();switch(i.type){case 11:return this.z(),O.INSTANCE;case 12:return this.z(),I.INSTANCE;case 0:{this.z();const a=this.l();return this.A(1,r),a?.negate()}case 17:return this.z(),q.create(i.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",i)}}return this.t()}t(){const i=this.D();switch(i.type){case 11:return this.z(),h.true();case 12:return this.z(),h.false();case 0:{this.z();const a=this.l();return this.A(1,r),a}case 17:{const a=i.lexeme;if(this.z(),this.y(9)){const j=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),j.type!==10)throw this.B("REGEX",j);const se=j.lexeme,J=se.lastIndexOf("/"),M=J===se.length-1?void 0:this.w(se.substring(J+1));let f;try{f=new RegExp(se.substring(1,J),M)}catch{throw this.B("REGEX",j)}return oe.create(a,f)}switch(j.type){case 10:case 19:{const se=[j.lexeme];this.z();let J=this.D(),M=0;for(let _=0;_<j.lexeme.length;_++)j.lexeme.charCodeAt(_)===40?M++:j.lexeme.charCodeAt(_)===41&&M--;for(;!this.E()&&J.type!==15&&J.type!==16;){switch(J.type){case 0:M++;break;case 1:M--;break;case 10:case 18:for(let _=0;_<J.lexeme.length;_++)J.lexeme.charCodeAt(_)===40?M++:j.lexeme.charCodeAt(_)===41&&M--}if(M<0)break;se.push(G.$rj.getLexeme(J)),this.z(),J=this.D()}const f=se.join(""),L=f.lastIndexOf("/"),D=L===f.length-1?void 0:this.w(f.substring(L+1));let Z;try{Z=new RegExp(f.substring(1,L),D)}catch{throw this.B("REGEX",j)}return h.regex(a,Z)}case 18:{const se=j.lexeme;this.z();let J=null;if(!(0,z.$8e)(se)){const M=se.indexOf("/"),f=se.lastIndexOf("/");if(M!==f&&M>=0){const L=se.slice(M+1,f),D=se[f+1]==="i"?"i":"";try{J=new RegExp(L,D)}catch{throw this.B("REGEX",j)}}}if(J===null)throw this.B("REGEX",j);return oe.create(a,J)}default:throw this.B("REGEX",this.D())}}if(this.y(14)){this.A(13,o);const j=this.u();return h.notIn(a,j)}switch(this.D().type){case 3:{this.z();const j=this.u();if(this.x().type===18)return h.equals(a,j);switch(j){case"true":return h.has(a);case"false":return h.not(a);default:return h.equals(a,j)}}case 4:{this.z();const j=this.u();if(this.x().type===18)return h.notEquals(a,j);switch(j){case"true":return h.not(a);case"false":return h.has(a);default:return h.notEquals(a,j)}}case 5:return this.z(),re.create(a,this.u());case 6:return this.z(),ne.create(a,this.u());case 7:return this.z(),ie.create(a,this.u());case 8:return this.z(),le.create(a,this.u());case 13:return this.z(),h.in(a,this.u());default:return h.has(a)}}case 20:throw this.h.push({message:s,offset:i.offset,lexeme:"",additionalInfo:n}),l.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const i=this.D();switch(i.type){case 17:case 18:return this.z(),i.lexeme;case 11:return this.z(),"true";case 12:return this.z(),"false";case 13:return this.z(),"in";default:return""}}w(i){return i.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(i){return this.C(i)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(i,a){if(this.C(i))return this.z();throw this.B(a,this.D())}B(i,a,S){const j=(0,B.localize)(8,null,i,G.$rj.getLexeme(a)),se=a.offset,J=G.$rj.getLexeme(a);return this.h.push({message:j,offset:se,lexeme:J,additionalInfo:S}),l.c}C(i){return this.D().type===i}D(){return this.f[this.g]}E(){return this.D().type===20}}e.$tj=l;class h{static false(){return O.INSTANCE}static true(){return I.INSTANCE}static has(i){return d.create(i)}static equals(i,a){return y.create(i,a)}static notEquals(i,a){return p.create(i,a)}static regex(i,a){return oe.create(i,a)}static in(i,a){return K.create(i,a)}static notIn(i,a){return A.create(i,a)}static not(i){return q.create(i)}static and(...i){return F.create(i,null,!0)}static or(...i){return W.create(i,null,!0)}static greater(i,a){return ie.create(i,a)}static greaterEquals(i,a){return le.create(i,a)}static smaller(i,a){return re.create(i,a)}static smallerEquals(i,a){return ne.create(i,a)}static{this.c=new l({regexParsingWithErrorRecovery:!1})}static deserialize(i){return i==null?void 0:this.c.parse(i)}}e.$uj=h;function $(N){const i=new l({regexParsingWithErrorRecovery:!1});return N.map(a=>(i.parse(a),i.lexingErrors.length>0?i.lexingErrors.map(S=>({errorMessage:S.additionalInfo?(0,B.localize)(9,null,S.additionalInfo):(0,B.localize)(10,null),offset:S.offset,length:S.lexeme.length})):i.parsingErrors.length>0?i.parsingErrors.map(S=>({errorMessage:S.additionalInfo?`${S.message}. ${S.additionalInfo}`:S.message,offset:S.offset,length:S.lexeme.length})):[]))}function v(N,i){const a=N?N.substituteConstants():void 0,S=i?i.substituteConstants():void 0;return!a&&!S?!0:!a||!S?!1:a.equals(S)}function P(N,i){return N.cmp(i)}class O{static{this.INSTANCE=new O}constructor(){this.type=0}cmp(i){return this.type-i.type}equals(i){return i.type===this.type}substituteConstants(){return this}evaluate(i){return!1}serialize(){return"false"}keys(){return[]}map(i){return this}negate(){return I.INSTANCE}}e.$xj=O;class I{static{this.INSTANCE=new I}constructor(){this.type=1}cmp(i){return this.type-i.type}equals(i){return i.type===this.type}substituteConstants(){return this}evaluate(i){return!0}serialize(){return"true"}keys(){return[]}map(i){return this}negate(){return O.INSTANCE}}e.$yj=I;class d{static create(i,a=null){const S=C.get(i);return typeof S=="boolean"?S?I.INSTANCE:O.INSTANCE:new d(i,a)}constructor(i,a){this.key=i,this.c=a,this.type=2}cmp(i){return i.type!==this.type?this.type-i.type:X(this.key,i.key)}equals(i){return i.type===this.type?this.key===i.key:!1}substituteConstants(){const i=C.get(this.key);return typeof i=="boolean"?i?I.INSTANCE:O.INSTANCE:this}evaluate(i){return!!i.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(i){return i.mapDefined(this.key)}negate(){return this.c||(this.c=q.create(this.key,this)),this.c}}e.$zj=d;class y{static create(i,a,S=null){if(typeof a=="boolean")return a?d.create(i,S):q.create(i,S);const j=C.get(i);return typeof j=="boolean"?a===(j?"true":"false")?I.INSTANCE:O.INSTANCE:new y(i,a,S)}constructor(i,a,S){this.c=i,this.d=a,this.f=S,this.type=4}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){const i=C.get(this.c);if(typeof i=="boolean"){const a=i?"true":"false";return this.d===a?I.INSTANCE:O.INSTANCE}return this}evaluate(i){return i.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(i){return i.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=p.create(this.c,this.d,this)),this.f}}e.$Aj=y;class K{static create(i,a){return new K(i,a)}constructor(i,a){this.d=i,this.f=a,this.type=10,this.c=null}cmp(i){return i.type!==this.type?this.type-i.type:H(this.d,this.f,i.d,i.f)}equals(i){return i.type===this.type?this.d===i.d&&this.f===i.f:!1}substituteConstants(){return this}evaluate(i){const a=i.getValue(this.f),S=i.getValue(this.d);return Array.isArray(a)?a.includes(S):typeof S=="string"&&typeof a=="object"&&a!==null?b.call(a,S):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(i){return i.mapIn(this.d,this.f)}negate(){return this.c||(this.c=A.create(this.d,this.f)),this.c}}e.$Bj=K;class A{static create(i,a){return new A(i,a)}constructor(i,a){this.d=i,this.f=a,this.type=11,this.c=K.create(i,a)}cmp(i){return i.type!==this.type?this.type-i.type:this.c.cmp(i.c)}equals(i){return i.type===this.type?this.c.equals(i.c):!1}substituteConstants(){return this}evaluate(i){return!this.c.evaluate(i)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(i){return i.mapNotIn(this.d,this.f)}negate(){return this.c}}e.$Cj=A;class p{static create(i,a,S=null){if(typeof a=="boolean")return a?q.create(i,S):d.create(i,S);const j=C.get(i);return typeof j=="boolean"?a===(j?"true":"false")?O.INSTANCE:I.INSTANCE:new p(i,a,S)}constructor(i,a,S){this.c=i,this.d=a,this.f=S,this.type=5}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){const i=C.get(this.c);if(typeof i=="boolean"){const a=i?"true":"false";return this.d===a?O.INSTANCE:I.INSTANCE}return this}evaluate(i){return i.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(i){return i.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=y.create(this.c,this.d,this)),this.f}}e.$Dj=p;class q{static create(i,a=null){const S=C.get(i);return typeof S=="boolean"?S?O.INSTANCE:I.INSTANCE:new q(i,a)}constructor(i,a){this.c=i,this.d=a,this.type=3}cmp(i){return i.type!==this.type?this.type-i.type:X(this.c,i.c)}equals(i){return i.type===this.type?this.c===i.c:!1}substituteConstants(){const i=C.get(this.c);return typeof i=="boolean"?i?O.INSTANCE:I.INSTANCE:this}evaluate(i){return!i.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(i){return i.mapNot(this.c)}negate(){return this.d||(this.d=d.create(this.c,this)),this.d}}e.$Ej=q;function x(N,i){if(typeof N=="string"){const a=parseFloat(N);isNaN(a)||(N=a)}return typeof N=="string"||typeof N=="number"?i(N):O.INSTANCE}class ie{static create(i,a,S=null){return x(a,j=>new ie(i,j,S))}constructor(i,a,S){this.c=i,this.d=a,this.f=S,this.type=12}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(i){return i.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=ne.create(this.c,this.d,this)),this.f}}e.$Fj=ie;class le{static create(i,a,S=null){return x(a,j=>new le(i,j,S))}constructor(i,a,S){this.c=i,this.d=a,this.f=S,this.type=13}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(i){return i.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=re.create(this.c,this.d,this)),this.f}}e.$Gj=le;class re{static create(i,a,S=null){return x(a,j=>new re(i,j,S))}constructor(i,a,S){this.c=i,this.d=a,this.f=S,this.type=14}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(i){return i.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=le.create(this.c,this.d,this)),this.f}}e.$Hj=re;class ne{static create(i,a,S=null){return x(a,j=>new ne(i,j,S))}constructor(i,a,S){this.c=i,this.d=a,this.f=S,this.type=15}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(i){return i.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=ie.create(this.c,this.d,this)),this.f}}e.$Ij=ne;class oe{static create(i,a){return new oe(i,a)}constructor(i,a){this.d=i,this.f=a,this.type=7,this.c=null}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.d<i.d)return-1;if(this.d>i.d)return 1;const a=this.f?this.f.source:"",S=i.f?i.f.source:"";return a<S?-1:a>S?1:0}equals(i){if(i.type===this.type){const a=this.f?this.f.source:"",S=i.f?i.f.source:"";return this.d===i.d&&a===S}return!1}substituteConstants(){return this}evaluate(i){const a=i.getValue(this.d);return this.f?this.f.test(a):!1}serialize(){const i=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${i}`}keys(){return[this.d]}map(i){return i.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=w.create(this)),this.c}}e.$Jj=oe;class w{static create(i){return new w(i)}constructor(i){this.c=i,this.type=8}cmp(i){return i.type!==this.type?this.type-i.type:this.c.cmp(i.c)}equals(i){return i.type===this.type?this.c.equals(i.c):!1}substituteConstants(){return this}evaluate(i){return!this.c.evaluate(i)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(i){return new w(this.c.map(i))}negate(){return this.c}}e.$Kj=w;function ee(N){let i=null;for(let a=0,S=N.length;a<S;a++){const j=N[a].substituteConstants();if(N[a]!==j&&i===null){i=[];for(let se=0;se<a;se++)i[se]=N[se]}i!==null&&(i[a]=j)}return i===null?N:i}class F{static create(i,a,S){return F.d(i,a,S)}constructor(i,a){this.expr=i,this.c=a,this.type=6}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.expr.length<i.expr.length)return-1;if(this.expr.length>i.expr.length)return 1;for(let a=0,S=this.expr.length;a<S;a++){const j=P(this.expr[a],i.expr[a]);if(j!==0)return j}return 0}equals(i){if(i.type===this.type){if(this.expr.length!==i.expr.length)return!1;for(let a=0,S=this.expr.length;a<S;a++)if(!this.expr[a].equals(i.expr[a]))return!1;return!0}return!1}substituteConstants(){const i=ee(this.expr);return i===this.expr?this:F.create(i,this.c,!1)}evaluate(i){for(let a=0,S=this.expr.length;a<S;a++)if(!this.expr[a].evaluate(i))return!1;return!0}static d(i,a,S){const j=[];let se=!1;for(const J of i)if(J){if(J.type===1){se=!0;continue}if(J.type===0)return O.INSTANCE;if(J.type===6){j.push(...J.expr);continue}j.push(J)}if(j.length===0&&se)return I.INSTANCE;if(j.length!==0){if(j.length===1)return j[0];j.sort(P);for(let J=1;J<j.length;J++)j[J-1].equals(j[J])&&(j.splice(J,1),J--);if(j.length===1)return j[0];for(;j.length>1;){const J=j[j.length-1];if(J.type!==9)break;j.pop();const M=j.pop(),f=j.length===0,L=W.create(J.expr.map(D=>F.create([D,M],null,S)),null,f);L&&(j.push(L),j.sort(P))}if(j.length===1)return j[0];if(S){for(let J=0;J<j.length;J++)for(let M=J+1;M<j.length;M++)if(j[J].negate().equals(j[M]))return O.INSTANCE;if(j.length===1)return j[0]}return new F(j,a)}}serialize(){return this.expr.map(i=>i.serialize()).join(" && ")}keys(){const i=[];for(const a of this.expr)i.push(...a.keys());return i}map(i){return new F(this.expr.map(a=>a.map(i)),null)}negate(){if(!this.c){const i=[];for(const a of this.expr)i.push(a.negate());this.c=W.create(i,this,!0)}return this.c}}e.$Lj=F;class W{static create(i,a,S){return W.d(i,a,S)}constructor(i,a){this.expr=i,this.c=a,this.type=9}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.expr.length<i.expr.length)return-1;if(this.expr.length>i.expr.length)return 1;for(let a=0,S=this.expr.length;a<S;a++){const j=P(this.expr[a],i.expr[a]);if(j!==0)return j}return 0}equals(i){if(i.type===this.type){if(this.expr.length!==i.expr.length)return!1;for(let a=0,S=this.expr.length;a<S;a++)if(!this.expr[a].equals(i.expr[a]))return!1;return!0}return!1}substituteConstants(){const i=ee(this.expr);return i===this.expr?this:W.create(i,this.c,!1)}evaluate(i){for(let a=0,S=this.expr.length;a<S;a++)if(this.expr[a].evaluate(i))return!0;return!1}static d(i,a,S){let j=[],se=!1;if(i){for(let J=0,M=i.length;J<M;J++){const f=i[J];if(f){if(f.type===0){se=!0;continue}if(f.type===1)return I.INSTANCE;if(f.type===9){j=j.concat(f.expr);continue}j.push(f)}}if(j.length===0&&se)return O.INSTANCE;j.sort(P)}if(j.length!==0){if(j.length===1)return j[0];for(let J=1;J<j.length;J++)j[J-1].equals(j[J])&&(j.splice(J,1),J--);if(j.length===1)return j[0];if(S){for(let J=0;J<j.length;J++)for(let M=J+1;M<j.length;M++)if(j[J].negate().equals(j[M]))return I.INSTANCE;if(j.length===1)return j[0]}return new W(j,a)}}serialize(){return this.expr.map(i=>i.serialize()).join(" || ")}keys(){const i=[];for(const a of this.expr)i.push(...a.keys());return i}map(i){return new W(this.expr.map(a=>a.map(i)),null)}negate(){if(!this.c){const i=[];for(const a of this.expr)i.push(a.negate());for(;i.length>1;){const a=i.shift(),S=i.shift(),j=[];for(const se of Q(a))for(const J of Q(S))j.push(F.create([se,J],null,!1));i.unshift(W.create(j,null,!1))}this.c=W.create(i,this,!0)}return this.c}}e.$Mj=W;class R extends d{static{this.d=[]}static all(){return R.d.values()}constructor(i,a,S){super(i,null),this.f=a,typeof S=="object"?R.d.push({...S,key:i}):S!==!0&&R.d.push({key:i,description:S,type:a!=null?typeof a:void 0})}bindTo(i){return i.createKey(this.key,this.f)}getValue(i){return i.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(i){return y.create(this.key,i)}notEqualsTo(i){return p.create(this.key,i)}}e.$Nj=R,e.$Oj=(0,E.$wi)("contextKeyService");function X(N,i){return N<i?-1:N>i?1:0}function H(N,i,a,S){return N<a?-1:N>a?1:i<S?-1:i>S?1:0}function Y(N,i){if(N.type===0||i.type===1)return!0;if(N.type===9)return i.type===9?te(N.expr,i.expr):!1;if(i.type===9){for(const a of i.expr)if(Y(N,a))return!0;return!1}if(N.type===6){if(i.type===6)return te(i.expr,N.expr);for(const a of N.expr)if(Y(a,i))return!0;return!1}return N.equals(i)}function te(N,i){let a=0,S=0;for(;a<N.length&&S<i.length;){const j=N[a].cmp(i[S]);if(j<0)return!1;j===0&&a++,S++}return a===N.length}function Q(N){return N.type===9?N.expr:[N]}}),define(ue[39],ce([0,1,6,26,7,37,13]),function(he,e,T,z,G,E,B){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$NK=e.$KK=void 0,e.$LK=b,e.$MK=U,e.$KK=(0,B.$wi)("notebookDocumentService");const V=["W","X","Y","Z","a","b","c","d","e","f"],C=new RegExp(`^[${V.join("")}]+`),m=7;function b(k){if(k.scheme!==G.Schemas.vscodeNotebookCell)return;const c=k.fragment.indexOf("s");if(c<0)return;const o=parseInt(k.fragment.substring(0,c).replace(C,""),m),r=(0,T.$Ze)(k.fragment.substring(c+1)).toString();if(!isNaN(o))return{handle:o,notebook:k.with({scheme:r,fragment:null})}}function U(k,c){const o=c.toString(m),u=`${o.length<V.length?V[o.length-1]:"z"}${o}s${(0,T.$1e)(T.$Ge.fromString(k.scheme),!0,!0)}`;return k.with({scheme:G.Schemas.vscodeNotebookCell,fragment:u})}class g{constructor(){this.a=new z.$Bc}getNotebook(c){if(c.scheme===G.Schemas.vscodeNotebookCell){const o=b(c);if(o){const r=this.a.get(o.notebook);if(r)return r}}return this.a.get(c)}addNotebookDocument(c){this.a.set(c.uri,c)}removeNotebookDocument(c){this.a.delete(c.uri)}}e.$NK=g,(0,E.$xs)(e.$KK,g,1)}),define(ue[40],ce([0,1,6,25,45,21,7,4,2,38,39]),function(he,e,T,z,G,E,B,V,C,m,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$8K=e.$5K=e.CellStatusbarAlignment=e.$4K=e.NotebookEditorPriority=e.$1K=e.$ZK=e.$XK=e.CellUri=e.CellEditType=e.SelectionStateType=e.NotebookCellsChangeType=e.RendererMessagingSpec=e.NotebookRendererMatch=e.NotebookExecutionState=e.NotebookCellExecutionState=e.NotebookRunState=e.$WK=e.$VK=e.$UK=e.$TK=e.CellKind=e.$SK=e.$RK=e.$QK=void 0,e.$YK=$,e.$2K=P,e.$3K=O,e.$6K=y,e.$7K=A,e.$QK="workbench.editor.notebook",e.$RK="workbench.editor.notebookTextDiffEditor",e.$SK="workbench.editor.interactive";var U;(function(w){w[w.Markup=1]="Markup",w[w.Code=2]="Code"})(U||(e.CellKind=U={})),e.$TK=["application/json","application/javascript","text/html","image/svg+xml",E.$Qs.latex,E.$Qs.markdown,"image/png","image/jpeg",E.$Qs.text],e.$UK=[E.$Qs.latex,E.$Qs.markdown,"application/json","text/html","image/svg+xml","image/png","image/jpeg",E.$Qs.text],e.$VK=new Map([["ms-toolsai.jupyter",new Set(["jupyter-notebook","interactive"])],["ms-toolsai.jupyter-renderers",new Set(["jupyter-notebook","interactive"])]]),e.$WK="_notAvailable";var g;(function(w){w[w.Running=1]="Running",w[w.Idle=2]="Idle"})(g||(e.NotebookRunState=g={}));var k;(function(w){w[w.Unconfirmed=1]="Unconfirmed",w[w.Pending=2]="Pending",w[w.Executing=3]="Executing"})(k||(e.NotebookCellExecutionState=k={}));var c;(function(w){w[w.Unconfirmed=1]="Unconfirmed",w[w.Pending=2]="Pending",w[w.Executing=3]="Executing"})(c||(e.NotebookExecutionState=c={}));var o;(function(w){w[w.WithHardKernelDependency=0]="WithHardKernelDependency",w[w.WithOptionalKernelDependency=1]="WithOptionalKernelDependency",w[w.Pure=2]="Pure",w[w.Never=3]="Never"})(o||(e.NotebookRendererMatch=o={}));var r;(function(w){w.Always="always",w.Never="never",w.Optional="optional"})(r||(e.RendererMessagingSpec=r={}));var u;(function(w){w[w.ModelChange=1]="ModelChange",w[w.Move=2]="Move",w[w.ChangeCellLanguage=5]="ChangeCellLanguage",w[w.Initialize=6]="Initialize",w[w.ChangeCellMetadata=7]="ChangeCellMetadata",w[w.Output=8]="Output",w[w.OutputItem=9]="OutputItem",w[w.ChangeCellContent=10]="ChangeCellContent",w[w.ChangeDocumentMetadata=11]="ChangeDocumentMetadata",w[w.ChangeCellInternalMetadata=12]="ChangeCellInternalMetadata",w[w.ChangeCellMime=13]="ChangeCellMime",w[w.Unknown=100]="Unknown"})(u||(e.NotebookCellsChangeType=u={}));var t;(function(w){w[w.Handle=0]="Handle",w[w.Index=1]="Index"})(t||(e.SelectionStateType=t={}));var s;(function(w){w[w.Replace=1]="Replace",w[w.Output=2]="Output",w[w.Metadata=3]="Metadata",w[w.CellLanguage=4]="CellLanguage",w[w.DocumentMetadata=5]="DocumentMetadata",w[w.Move=6]="Move",w[w.OutputItems=7]="OutputItems",w[w.PartialMetadata=8]="PartialMetadata",w[w.PartialInternalMetadata=9]="PartialInternalMetadata"})(s||(e.CellEditType=s={}));var n;(function(w){w.scheme=B.Schemas.vscodeNotebookCell;function ee(Y,te){return(0,b.$MK)(Y,te)}w.generate=ee;function F(Y){return(0,b.$LK)(Y)}w.parse=F;function W(Y,te){return Y.with({scheme:B.Schemas.vscodeNotebookCellOutput,fragment:`op${te??""},${Y.scheme!==B.Schemas.file?Y.scheme:""}`})}w.generateCellOutputUri=W;function R(Y){if(Y.scheme!==B.Schemas.vscodeNotebookCellOutput)return;const te=/^op([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})?\,(.*)$/i.exec(Y.fragment);if(!te)return;const Q=te[1]&&te[1]!==""?te[1]:void 0,N=te[2];return{outputId:Q,notebook:Y.with({scheme:N||B.Schemas.file,fragment:null})}}w.parseCellOutputUri=R;function X(Y,te,Q){return w.generate(Y,te).with({scheme:Q})}w.generateCellPropertyUri=X;function H(Y,te){if(Y.scheme===te)return w.parse(Y.with({scheme:w.scheme}))}w.parseCellPropertyUri=H})(n||(e.CellUri=n={}));const l=w=>C.$i?w.replace(/\//g,"\\"):w;class h{constructor(ee=[],F=e.$TK){this.e=F,this.d=[...new Set(ee)].map(W=>({pattern:W,matches:z.$qk(l(W))}))}sort(ee){const F=new Map(G.Iterable.map(ee,R=>[R,l(R)]));let W=[];for(const{matches:R}of this.d)for(const[X,H]of F)if(R(H)){W.push(X),F.delete(X);break}return F.size&&(W=W.concat([...F.keys()].sort((R,X)=>this.e.indexOf(R)-this.e.indexOf(X)))),W}prioritize(ee,F){const W=this.f(ee);if(W===-1){this.d.unshift({pattern:ee,matches:z.$qk(l(ee))});return}const R=new Set(F.map(H=>this.f(H,W)));R.delete(-1);const X=Array.from(R).sort();this.d.splice(W+1,0,...X.map(H=>this.d[H]));for(let H=X.length-1;H>=0;H--)this.d.splice(X[H],1)}toArray(){return this.d.map(ee=>ee.pattern)}f(ee,F=this.d.length){const W=l(ee);for(let R=0;R<F;R++)if(this.d[R].matches(W))return R;return-1}}e.$XK=h;function $(w,ee,F,W=(R,X)=>R===X){const R=[];function X(te,Q,N){if(Q===0&&N.length===0)return;const i=R[R.length-1];i&&i.start+i.deleteCount===te?(i.deleteCount+=Q,i.toInsert.push(...N)):R.push({start:te,deleteCount:Q,toInsert:N})}let H=0,Y=0;for(;;){if(H===w.length){X(H,0,ee.slice(Y));break}if(Y===ee.length){X(H,w.length-H,[]);break}const te=w[H],Q=ee[Y];if(W(te,Q)){H+=1,Y+=1;continue}F(Q)?(X(H,1,[]),H+=1):(X(H,0,[Q]),Y+=1)}return R}e.$ZK=new m.$Nj("notebookEditorCursorAtBoundary","none"),e.$1K=new m.$Nj("notebookEditorCursorAtLineBoundary","none");var v;(function(w){w.default="default",w.option="option"})(v||(e.NotebookEditorPriority=v={}));function P(w){const ee=w;return!!((typeof ee.include=="string"||z.$rk(ee.include))&&(typeof ee.exclude=="string"||z.$rk(ee.exclude)))}function O(w,ee,F){if(Array.isArray(w.viewType)&&w.viewType.indexOf(ee)>=0||w.viewType===ee)return!0;if(w.filenamePattern){const W=P(w.filenamePattern)?w.filenamePattern.include:w.filenamePattern,R=P(w.filenamePattern)?w.filenamePattern.exclude:void 0;if(z.$pk(W,(0,V.$oc)(F.fsPath).toLowerCase()))return!(R&&z.$pk(R,(0,V.$oc)(F.fsPath).toLowerCase()))}return!1}e.$4K={displayOrder:"notebook.displayOrder",cellToolbarLocation:"notebook.cellToolbarLocation",cellToolbarVisibility:"notebook.cellToolbarVisibility",showCellStatusBar:"notebook.showCellStatusBar",textDiffEditorPreview:"notebook.diff.enablePreview",diffOverviewRuler:"notebook.diff.overviewRuler",experimentalInsertToolbarAlignment:"notebook.experimental.insertToolbarAlignment",compactView:"notebook.compactView",focusIndicator:"notebook.cellFocusIndicator",insertToolbarLocation:"notebook.insertToolbarLocation",globalToolbar:"notebook.globalToolbar",stickyScrollEnabled:"notebook.stickyScroll.enabled",stickyScrollMode:"notebook.stickyScroll.mode",undoRedoPerCell:"notebook.undoRedoPerCell",consolidatedOutputButton:"notebook.consolidatedOutputButton",showFoldingControls:"notebook.showFoldingControls",dragAndDropEnabled:"notebook.dragAndDropEnabled",cellEditorOptionsCustomizations:"notebook.editorOptionsCustomizations",consolidatedRunButton:"notebook.consolidatedRunButton",openGettingStarted:"notebook.experimental.openGettingStarted",globalToolbarShowLabel:"notebook.globalToolbarShowLabel",markupFontSize:"notebook.markup.fontSize",interactiveWindowCollapseCodeCells:"interactiveWindow.collapseCellInputCode",outputScrollingDeprecated:"notebook.experimental.outputScrolling",outputScrolling:"notebook.output.scrolling",textOutputLineLimit:"notebook.output.textLineLimit",LinkifyOutputFilePaths:"notebook.output.linkifyFilePaths",minimalErrorRendering:"notebook.output.minimalErrorRendering",formatOnSave:"notebook.formatOnSave.enabled",insertFinalNewline:"notebook.insertFinalNewline",formatOnCellExecution:"notebook.formatOnCellExecution",codeActionsOnSave:"notebook.codeActionsOnSave",outputWordWrap:"notebook.output.wordWrap",outputLineHeightDeprecated:"notebook.outputLineHeight",outputLineHeight:"notebook.output.lineHeight",outputFontSizeDeprecated:"notebook.outputFontSize",outputFontSize:"notebook.output.fontSize",outputFontFamilyDeprecated:"notebook.outputFontFamily",outputFontFamily:"notebook.output.fontFamily",findScope:"notebook.find.scope",logging:"notebook.logging",confirmDeleteRunningCell:"notebook.confirmDeleteRunningCell",remoteSaving:"notebook.experimental.remoteSave",gotoSymbolsAllSymbols:"notebook.gotoSymbols.showAllSymbols",outlineShowMarkdownHeadersOnly:"notebook.outline.showMarkdownHeadersOnly",outlineShowCodeCells:"notebook.outline.showCodeCells",outlineShowCodeCellSymbols:"notebook.outline.showCodeCellSymbols",breadcrumbsShowCodeCells:"notebook.breadcrumbs.showCodeCells",scrollToRevealCell:"notebook.scrolling.revealNextCellOnExecute",cellChat:"notebook.experimental.cellChat",cellGenerate:"notebook.experimental.generate",notebookVariablesView:"notebook.experimental.variablesView",InteractiveWindowPromptToSave:"interactiveWindow.promptToSaveOnClose",cellFailureDiagnostics:"notebook.cellFailureDiagnostics",outputBackupSizeLimit:"notebook.backup.sizeLimit"};var I;(function(w){w[w.Left=1]="Left",w[w.Right=2]="Right"})(I||(e.CellStatusbarAlignment=I={}));class d{static{this.d="notebook/"}static create(ee){return`${d.d}${ee}`}static parse(ee){if(ee.startsWith(d.d))return ee.substring(d.d.length)}}e.$5K=d;function y(w){return["application/vnd.code.notebook.stdout","application/vnd.code.notebook.stderr"].includes(w)}const K=new TextDecoder;function A(w){const ee=[];let F=!1;for(const H of w)(ee.length===0||F)&&(ee.push(H),F=!0);let W=x(ee);const R=T.$Ge.concat(ee.map(H=>T.$Ge.wrap(H))),X=oe(R);return W=W||X.byteLength!==R.byteLength,{data:X,didCompression:W}}e.$8K="\x1B[A";const p=e.$8K.split("").map(w=>w.charCodeAt(0)),q=10;function x(w){let ee=!1;return w.forEach((F,W)=>{if(W===0||F.length<e.$8K.length)return;const R=w[W-1],X=F.subarray(0,e.$8K.length);if(X[0]===p[0]&&X[1]===p[1]&&X[2]===p[2]){const H=R.lastIndexOf(q);if(H===-1)return;ee=!0,w[W-1]=R.subarray(0,H),w[W]=F.subarray(e.$8K.length)}}),ee}function ie(w){let ee=w;do w=ee,ee=w.replace(/[^\n]\x08/gm,"");while(ee.length<w.length);return w}function le(w){for(w=w.replace(/\r+\n/gm,`
`);w.search(/\r[^$]/g)>-1;){const ee=w.match(/^(.*)\r+/m)[1];let F=w.match(/\r+(.*)$/m)[1];F=F+ee.slice(F.length,ee.length),w=w.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,F)}return w}const re=8,ne=13;function oe(w){return!w.buffer.includes(re)&&!w.buffer.includes(ne)?w:T.$Ge.fromString(le(ie(K.decode(w.buffer))))}}),define(ue[46],ce([0,1,47,48,12,30,40,10,20]),function(he,e,T,z,G,E,B,V,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotebookEditorSimpleWorker=void 0,e.create=c;function m(o){let r=(0,z.$mj)(104579,0);for(let u=0;u<o.buffer.length;u++)r=(0,z.$lj)(o.buffer[u],r);return r}class b{get textBuffer(){if(this.a)return this.a;const r=new E.$2C;r.acceptChunk(Array.isArray(this.d)?this.d.join(`
`):this.d);const u=r.finish(!0);return this.a=u.create(1).textBuffer,this.a}primaryKey(){return this.b===void 0&&(this.b=(0,z.$kj)(this.getValue())),this.b}constructor(r,u,t,s,n,l,h){this.handle=r,this.d=u,this.language=t,this.cellKind=s,this.outputs=n,this.metadata=l,this.internalMetadata=h,this.b=null,this.c=null}getFullModelRange(){const r=this.textBuffer.getLineCount();return new V.$ut(1,1,r,this.textBuffer.getLineLength(r)+1)}getValue(){const r=this.getFullModelRange();return this.textBuffer.getValueInRange(r,1)}getComparisonValue(){return this.b!==null?this.b:(this.c=(0,z.$kj)([(0,z.$kj)(this.language),(0,z.$kj)(this.getValue()),this.metadata,this.internalMetadata,this.outputs.map(r=>({outputs:r.outputs.map(u=>({mime:u.mime,data:m(u.data)})),metadata:r.metadata}))]),this.c)}getHashValue(){return this.c!==null?this.c:(this.c=(0,z.$kj)([(0,z.$kj)(this.getValue()),this.language,this.metadata,this.internalMetadata]),this.c)}}class U{constructor(r,u,t){this.uri=r,this.cells=u,this.metadata=t}acceptModelChanged(r){r.rawEvents.forEach(u=>{if(u.kind===B.NotebookCellsChangeType.ModelChange)this._spliceNotebookCells(u.changes);else if(u.kind===B.NotebookCellsChangeType.Move){const t=this.cells.splice(u.index,1);this.cells.splice(u.newIdx,0,...t)}else if(u.kind===B.NotebookCellsChangeType.Output){const t=this.cells[u.index];t.outputs=u.outputs}else if(u.kind===B.NotebookCellsChangeType.ChangeCellLanguage){this.a(u.index);const t=this.cells[u.index];t.language=u.language}else if(u.kind===B.NotebookCellsChangeType.ChangeCellMetadata){this.a(u.index);const t=this.cells[u.index];t.metadata=u.metadata}else if(u.kind===B.NotebookCellsChangeType.ChangeCellInternalMetadata){this.a(u.index);const t=this.cells[u.index];t.internalMetadata=u.internalMetadata}})}a(r){if(r<0||r>=this.cells.length)throw new Error(`Illegal index ${r}. Cells length: ${this.cells.length}`)}_spliceNotebookCells(r){r.reverse().forEach(u=>{const s=u[2].map(n=>new b(n.handle,n.source,n.language,n.cellKind,n.outputs,n.metadata));this.cells.splice(u[0],u[1],...s)})}}class g{constructor(r){this.textModel=r}getElements(){const r=new Int32Array(this.textModel.cells.length);for(let u=0;u<this.textModel.cells.length;u++)r[u]=this.textModel.cells[u].getComparisonValue();return r}getCellHash(r){const u=Array.isArray(r.source)?r.source.join(`
`):r.source;return(0,z.$kj)([(0,z.$kj)(u),r.metadata])}}class k{constructor(){this.a=Object.create(null)}dispose(){}acceptNewModel(r,u){this.a[r]=new U(G.URI.parse(r),u.cells.map(t=>new b(t.handle,t.source,t.language,t.cellKind,t.outputs,t.metadata)),u.metadata)}acceptModelChanged(r,u){this.a[r]?.acceptModelChanged(u)}acceptRemovedModel(r){this.a[r]&&delete this.a[r]}computeDiff(r,u){const t=this.b(r),s=this.b(u);return{cellsDiff:new T.$At(new g(t),new g(s)).ComputeDiff(!1)}}canPromptRecommendation(r){const t=this.b(r).cells;for(let s=0;s<t.length;s++){const n=t[s];if(n.cellKind===B.CellKind.Markup||n.language!=="python")continue;const l=n.textBuffer.getLineCount(),h=Math.min(l,20),$=new V.$ut(1,1,h,n.textBuffer.getLineLength(h)+1),P=new C.$PC("import\\s*pandas|from\\s*pandas",!0,!1,null).parseSearchRequest();if(!P)continue;if(n.textBuffer.findMatchesLineByLine($,P,!0,1).length>0)return!0}return!1}b(r){return this.a[r]}}e.NotebookEditorSimpleWorker=k;function c(o){return new k}})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/dc96b837cf6bb4af9cd736aa3af08cf8279f7685/core/vs/workbench/contrib/notebook/common/services/notebookSimpleWorker.js.map
